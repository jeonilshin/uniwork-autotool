{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/jeonilshin/Desktop/uniwork-autotool/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n\nexport type ItemStatus = \"bought\" | \"arrived\" | \"delivered\";\nexport type FreightType = \"sea\" | \"land\" | \"air\";\nexport type VatType = \"vat_inclusive\" | \"non_vat\";\nexport type UserRole = \"admin\" | \"secretary\";\n\nexport interface UserProfile {\n  id: string;\n  email: string;\n  role: UserRole;\n  created_by: string | null;\n  created_at: string;\n}\n\nexport interface InquiredInfo {\n  name: string;\n  price: number | null;\n  contact: string;\n  source: string;\n}\n\nexport interface InventoryItem {\n  id: string;\n  product_name: string;\n  customer_name: string;\n  contact: string;\n  bought_from: string;\n  purchaser: string;\n  bought_price: number;\n  sold_price: number;\n  image_url: string | null;\n  status: ItemStatus;\n  freight_type: FreightType;\n  vat_type: VatType;\n  is_inquired: boolean;\n  inquired_list: InquiredInfo[] | null;\n  delivered_at: string | null;\n  payment_collected: boolean;\n  created_at: string;\n  user_id: string;\n}\n\nexport interface InquiryItem {\n  id: string;\n  product_name: string;\n  customer_name: string;\n  contact: string;\n  notes: string;\n  created_at: string;\n  user_id: string;\n}\n\n// Keep for backward compatibility but not used\nexport type { InquiryItem as _InquiryItem };\n\nexport interface FilterOptions {\n  status?: ItemStatus | \"all\";\n  freightType?: FreightType | \"all\";\n  vatType?: VatType | \"all\";\n  inquired?: boolean | \"all\";\n  minPrice?: number;\n  maxPrice?: number;\n  searchQuery?: string;\n}\n\n// User Profile functions\nexport async function getUserProfile(userId: string): Promise<UserProfile | null> {\n  const { data, error } = await supabase.from(\"user_profiles\").select(\"*\").eq(\"id\", userId).single();\n  if (error) return null;\n  return data;\n}\n\nexport async function createUserProfile(profile: Omit<UserProfile, \"created_at\">): Promise<UserProfile> {\n  const { data, error } = await supabase.from(\"user_profiles\").insert([profile]).select().single();\n  if (error) throw error;\n  return data;\n}\n\nexport async function getSecretaries(adminId: string): Promise<UserProfile[]> {\n  const { data, error } = await supabase.from(\"user_profiles\").select(\"*\").eq(\"created_by\", adminId).eq(\"role\", \"secretary\");\n  if (error) throw error;\n  return data || [];\n}\n\nexport async function deleteSecretary(secretaryId: string): Promise<boolean> {\n  // Delete from user_profiles\n  const { error } = await supabase.from(\"user_profiles\").delete().eq(\"id\", secretaryId);\n  if (error) throw error;\n  return true;\n}\n\n// Items functions\nexport async function getAllItems(): Promise<InventoryItem[]> {\n  const { data, error } = await supabase.from(\"items\").select(\"*\").order(\"created_at\", { ascending: false });\n  if (error) throw error;\n  return data || [];\n}\n\nexport async function getFilteredItems(filters: FilterOptions): Promise<InventoryItem[]> {\n  let query = supabase.from(\"items\").select(\"*\");\n\n  if (filters.status && filters.status !== \"all\") query = query.eq(\"status\", filters.status);\n  if (filters.freightType && filters.freightType !== \"all\") query = query.eq(\"freight_type\", filters.freightType);\n  if (filters.vatType && filters.vatType !== \"all\") query = query.eq(\"vat_type\", filters.vatType);\n  if (filters.inquired !== undefined && filters.inquired !== \"all\") query = query.eq(\"is_inquired\", filters.inquired);\n  if (filters.minPrice !== undefined) query = query.gte(\"sold_price\", filters.minPrice);\n  if (filters.maxPrice !== undefined) query = query.lte(\"sold_price\", filters.maxPrice);\n  if (filters.searchQuery) {\n    query = query.or(`product_name.ilike.%${filters.searchQuery}%,customer_name.ilike.%${filters.searchQuery}%,bought_from.ilike.%${filters.searchQuery}%,purchaser.ilike.%${filters.searchQuery}%`);\n  }\n\n  const { data, error } = await query.order(\"created_at\", { ascending: false });\n  if (error) throw error;\n  return data || [];\n}\n\nexport async function addItem(item: Omit<InventoryItem, \"id\" | \"created_at\">): Promise<InventoryItem> {\n  const { data, error } = await supabase.from(\"items\").insert([item]).select().single();\n  if (error) throw error;\n  return data;\n}\n\nexport async function updateItemStatus(id: string, status: ItemStatus): Promise<InventoryItem> {\n  const updateData: { status: ItemStatus; delivered_at?: string | null } = { status };\n  // Set delivered_at when status changes to delivered\n  if (status === 'delivered') {\n    updateData.delivered_at = new Date().toISOString();\n  } else {\n    updateData.delivered_at = null;\n  }\n  const { data, error } = await supabase.from(\"items\").update(updateData).eq(\"id\", id).select().single();\n  if (error) {\n    console.error(\"Supabase error:\", error);\n    throw new Error(error.message || \"Failed to update status\");\n  }\n  if (!data) throw new Error(\"No data returned\");\n  return data;\n}\n\nexport async function collectPayment(id: string): Promise<InventoryItem> {\n  const { data, error } = await supabase.from(\"items\").update({ payment_collected: true }).eq(\"id\", id).select().single();\n  if (error) {\n    console.error(\"Supabase error:\", error);\n    throw new Error(error.message || \"Failed to collect payment\");\n  }\n  if (!data) throw new Error(\"No data returned\");\n  return data;\n}\n\nexport async function updateItemInquired(id: string, is_inquired: boolean): Promise<InventoryItem> {\n  const { data, error } = await supabase.from(\"items\").update({ is_inquired }).eq(\"id\", id).select().single();\n  if (error) throw error;\n  return data;\n}\n\nexport async function deleteItem(id: string): Promise<boolean> {\n  const { error } = await supabase.from(\"items\").delete().eq(\"id\", id);\n  if (error) throw error;\n  return true;\n}\n\nexport async function uploadImage(file: File, userId: string): Promise<string> {\n  const fileExt = file.name.split(\".\").pop();\n  const fileName = `${userId}/${Date.now()}.${fileExt}`;\n\n  const { error } = await supabase.storage.from(\"item-images\").upload(fileName, file, { cacheControl: \"3600\", upsert: false });\n  if (error) { console.error(\"Upload error:\", error); throw error; }\n\n  const { data } = supabase.storage.from(\"item-images\").getPublicUrl(fileName);\n  return data.publicUrl;\n}\n\n// Create secretary account using Supabase Admin (requires service role key on server)\nexport async function inviteSecretary(email: string, password: string, adminId: string): Promise<{ success: boolean; error?: string; profile?: UserProfile }> {\n  try {\n    // Sign up the secretary\n    const { data, error } = await supabase.auth.signUp({ email, password });\n    if (error) throw error;\n    if (!data.user) throw new Error(\"Failed to create user\");\n\n    // Create their profile as secretary\n    const profile = await createUserProfile({\n      id: data.user.id,\n      email: email,\n      role: \"secretary\",\n      created_by: adminId,\n    });\n\n    return { success: true, profile };\n  } catch (err) {\n    return { success: false, error: err instanceof Error ? err.message : \"Failed to create secretary\" };\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///Users/jeonilshin/Desktop/uniwork-autotool/src/lib/auth.ts"],"sourcesContent":["import { supabase, getUserProfile, createUserProfile, UserRole } from './supabase';\n\nexport async function signIn(email: string, password: string) {\n  const { data, error } = await supabase.auth.signInWithPassword({ email, password });\n  if (error) throw error;\n  \n  // Check if user has a profile, if not create one as admin (first user)\n  if (data.user) {\n    const profile = await getUserProfile(data.user.id);\n    if (!profile) {\n      // First time login - create as admin\n      await createUserProfile({\n        id: data.user.id,\n        email: data.user.email || email,\n        role: 'admin',\n        created_by: null,\n      });\n    }\n  }\n  \n  return data;\n}\n\nexport async function signOut() {\n  const { error } = await supabase.auth.signOut();\n  if (error) throw error;\n}\n\nexport async function getSession() {\n  const { data: { session } } = await supabase.auth.getSession();\n  return session;\n}\n\nexport async function getUser() {\n  const { data: { user } } = await supabase.auth.getUser();\n  return user;\n}\n\nexport async function getUserRole(userId: string): Promise<UserRole> {\n  const profile = await getUserProfile(userId);\n  return profile?.role || 'secretary';\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAEO,eAAe,OAAO,KAAa,EAAE,QAAgB;IAC1D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oKAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;QAAE;QAAO;IAAS;IACjF,IAAI,OAAO,MAAM;IAEjB,uEAAuE;IACvE,IAAI,KAAK,IAAI,EAAE;QACb,MAAM,UAAU,MAAM,IAAA,0KAAc,EAAC,KAAK,IAAI,CAAC,EAAE;QACjD,IAAI,CAAC,SAAS;YACZ,qCAAqC;YACrC,MAAM,IAAA,6KAAiB,EAAC;gBACtB,IAAI,KAAK,IAAI,CAAC,EAAE;gBAChB,OAAO,KAAK,IAAI,CAAC,KAAK,IAAI;gBAC1B,MAAM;gBACN,YAAY;YACd;QACF;IACF;IAEA,OAAO;AACT;AAEO,eAAe;IACpB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,oKAAQ,CAAC,IAAI,CAAC,OAAO;IAC7C,IAAI,OAAO,MAAM;AACnB;AAEO,eAAe;IACpB,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,oKAAQ,CAAC,IAAI,CAAC,UAAU;IAC5D,OAAO;AACT;AAEO,eAAe;IACpB,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,oKAAQ,CAAC,IAAI,CAAC,OAAO;IACtD,OAAO;AACT;AAEO,eAAe,YAAY,MAAc;IAC9C,MAAM,UAAU,MAAM,IAAA,0KAAc,EAAC;IACrC,OAAO,SAAS,QAAQ;AAC1B"}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":["file:///Users/jeonilshin/Desktop/uniwork-autotool/src/components/LoginForm.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { signIn } from '@/lib/auth';\n\ninterface LoginFormProps {\n  onLogin: () => void;\n}\n\nexport default function LoginForm({ onLogin }: LoginFormProps) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    try {\n      await signIn(email, password);\n      onLogin();\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Login failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl shadow-2xl p-8 border border-white/20\">\n          <div className=\"text-center mb-8\">\n            <div className=\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl mb-4\">\n              <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n              </svg>\n            </div>\n            <h1 className=\"text-3xl font-bold text-white\">UTS 1.0</h1>\n            <p className=\"text-slate-400 mt-2\">Sign in to manage your inventory</p>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">Email</label>\n              <input\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition\"\n                placeholder=\"Enter email\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">Password</label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition\"\n                placeholder=\"Enter password\"\n                required\n              />\n            </div>\n\n            {error && (\n              <div className=\"bg-red-500/10 border border-red-500/50 rounded-xl p-3 text-red-400 text-sm text-center\">\n                {error}\n              </div>\n            )}\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full py-3 px-4 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-teal-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 focus:ring-offset-slate-900 transition disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {loading ? 'Signing in...' : 'Sign In'}\n            </button>\n          </form>\n\n          <p className=\"mt-6 text-center text-slate-500 text-sm\">\n            Contact administrator for account access\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AASe,SAAS,UAAU,EAAE,OAAO,EAAkB;IAC3D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,mPAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,mPAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,mPAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mPAAQ,EAAC;IAEvC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI;YACF,MAAM,IAAA,8JAAM,EAAC,OAAO;YACpB;QACF,EAAE,OAAO,KAAK;YACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,gRAAC;QAAI,WAAU;kBACb,cAAA,gRAAC;YAAI,WAAU;sBACb,cAAA,gRAAC;gBAAI,WAAU;;kCACb,gRAAC;wBAAI,WAAU;;0CACb,gRAAC;gCAAI,WAAU;0CACb,cAAA,gRAAC;oCAAI,WAAU;oCAAqB,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CAC5E,cAAA,gRAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;;;;;;0CAGzE,gRAAC;gCAAG,WAAU;0CAAgC;;;;;;0CAC9C,gRAAC;gCAAE,WAAU;0CAAsB;;;;;;;;;;;;kCAGrC,gRAAC;wBAAK,UAAU;wBAAc,WAAU;;0CACtC,gRAAC;;kDACC,gRAAC;wCAAM,WAAU;kDAAgD;;;;;;kDACjE,gRAAC;wCACC,MAAK;wCACL,OAAO;wCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wCACxC,WAAU;wCACV,aAAY;wCACZ,QAAQ;;;;;;;;;;;;0CAIZ,gRAAC;;kDACC,gRAAC;wCAAM,WAAU;kDAAgD;;;;;;kDACjE,gRAAC;wCACC,MAAK;wCACL,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAC3C,WAAU;wCACV,aAAY;wCACZ,QAAQ;;;;;;;;;;;;4BAIX,uBACC,gRAAC;gCAAI,WAAU;0CACZ;;;;;;0CAIL,gRAAC;gCACC,MAAK;gCACL,UAAU;gCACV,WAAU;0CAET,UAAU,kBAAkB;;;;;;;;;;;;kCAIjC,gRAAC;wBAAE,WAAU;kCAA0C;;;;;;;;;;;;;;;;;;;;;;AAOjE"}},
    {"offset": {"line": 441, "column": 0}, "map": {"version":3,"sources":["file:///Users/jeonilshin/Desktop/uniwork-autotool/src/components/Dashboard.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { signOut, getUser, getUserRole } from '@/lib/auth';\nimport {\n  supabase, getFilteredItems, addItem, deleteItem, uploadImage, updateItemStatus, collectPayment,\n  getSecretaries, inviteSecretary, deleteSecretary,\n  InventoryItem, ItemStatus, FreightType, VatType, FilterOptions, UserRole, UserProfile, InquiredInfo,\n} from '@/lib/supabase';\n\ninterface DashboardProps {\n  onLogout: () => void;\n}\n\nconst formatPeso = (amount: number) => `₱${amount.toLocaleString('en-PH', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n\nconst TruckIcon = ({ className }: { className?: string }) => (\n  <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 17h8M8 17a2 2 0 11-4 0 2 2 0 014 0zm8 0a2 2 0 104 0 2 2 0 00-4 0zM3 9h13l3 6v4h-3M3 9V5a1 1 0 011-1h9a1 1 0 011 1v4M3 9h10\" />\n  </svg>\n);\n\nconst FreightIcon = ({ type, className }: { type: FreightType; className?: string }) => {\n  if (type === 'sea') return <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 17h18M3 17l2-9h14l2 9M7 8V6a1 1 0 011-1h8a1 1 0 011 1v2\" /></svg>;\n  if (type === 'air') return <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" /></svg>;\n  return <TruckIcon className={className} />;\n};\n\nconst StatusProgressBar = ({ status }: { status: ItemStatus }) => {\n  const steps: ItemStatus[] = ['bought', 'arrived', 'delivered'];\n  const currentIndex = steps.indexOf(status);\n  const progress = (currentIndex / (steps.length - 1)) * 100;\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"relative\">\n        <div className=\"h-2 bg-slate-700 rounded-full overflow-hidden\">\n          <div className=\"h-full bg-gradient-to-r from-emerald-500 to-teal-500 transition-all duration-500\" style={{ width: `${progress}%` }} />\n        </div>\n        <div className=\"absolute top-1/2 -translate-y-1/2 transition-all duration-500\" style={{ left: `calc(${progress}% - 12px)` }}>\n          <div className=\"w-6 h-6 bg-emerald-500 rounded-full flex items-center justify-center shadow-lg shadow-emerald-500/30\">\n            <TruckIcon className=\"w-3 h-3 text-white\" />\n          </div>\n        </div>\n      </div>\n      <div className=\"flex justify-between mt-2 text-xs\">\n        {steps.map((step, i) => (\n          <span key={step} className={i <= currentIndex ? 'text-emerald-400' : 'text-slate-500'}>\n            {step.charAt(0).toUpperCase() + step.slice(1)}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst ScreenshotProtection = ({ children, enabled }: { children: React.ReactNode; enabled: boolean }) => {\n  useEffect(() => {\n    if (!enabled) return;\n    const handleContextMenu = (e: MouseEvent) => { e.preventDefault(); };\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'PrintScreen' || (e.ctrlKey && e.shiftKey && e.key === 'S') || (e.metaKey && e.shiftKey && ['3','4','5'].includes(e.key))) {\n        e.preventDefault(); alert('Screenshots are not allowed');\n      }\n    };\n    const handleVisibilityChange = () => {\n      const overlay = document.getElementById('screenshot-overlay');\n      if (overlay) overlay.style.display = document.hidden ? 'flex' : 'none';\n    };\n    document.addEventListener('contextmenu', handleContextMenu);\n    document.addEventListener('keydown', handleKeyDown);\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n    return () => {\n      document.removeEventListener('contextmenu', handleContextMenu);\n      document.removeEventListener('keydown', handleKeyDown);\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\n    };\n  }, [enabled]);\n\n  if (!enabled) return <>{children}</>;\n  return (\n    <div className=\"relative select-none\" style={{ WebkitUserSelect: 'none', userSelect: 'none' }}>\n      {children}\n      <div id=\"screenshot-overlay\" className=\"fixed inset-0 bg-slate-900 z-[9999] items-center justify-center hidden\">\n        <p className=\"text-white text-xl\">Content hidden for security</p>\n      </div>\n    </div>\n  );\n};\n\nconst getDaysRemaining = (deliveredAt: string | null): number | null => {\n  if (!deliveredAt) return null;\n  const delivered = new Date(deliveredAt);\n  const deadline = new Date(delivered.getTime() + 30 * 24 * 60 * 60 * 1000);\n  const now = new Date();\n  const diff = deadline.getTime() - now.getTime();\n  return Math.ceil(diff / (24 * 60 * 60 * 1000));\n};\n\nconst NotificationBell = ({ items, onSelectItem }: { items: InventoryItem[]; onSelectItem: (item: InventoryItem) => void }) => {\n  const [showDropdown, setShowDropdown] = useState(false);\n  \n  const overdueItems = items.filter(item => {\n    if (item.status !== 'delivered' || item.payment_collected) return false;\n    const days = getDaysRemaining(item.delivered_at);\n    return days !== null && days <= 0;\n  });\n\n  const urgentItems = items.filter(item => {\n    if (item.status !== 'delivered' || item.payment_collected) return false;\n    const days = getDaysRemaining(item.delivered_at);\n    return days !== null && days > 0 && days <= 7;\n  });\n\n  const notifications = [...overdueItems, ...urgentItems];\n  const hasNotifications = notifications.length > 0;\n\n  return (\n    <div className=\"relative\">\n      <button onClick={() => setShowDropdown(!showDropdown)} className=\"relative p-2 text-slate-400 hover:text-white hover:bg-white/10 rounded-lg transition\">\n        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\n        </svg>\n        {hasNotifications && (\n          <span className=\"absolute top-1 right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center\">\n            {notifications.length}\n          </span>\n        )}\n      </button>\n      {showDropdown && (\n        <div className=\"absolute right-0 top-full mt-2 w-80 bg-slate-800 border border-white/10 rounded-xl shadow-xl z-50 overflow-hidden\">\n          <div className=\"p-3 border-b border-white/10\">\n            <h3 className=\"text-white font-medium\">Notifications</h3>\n          </div>\n          <div className=\"max-h-80 overflow-y-auto\">\n            {notifications.length === 0 ? (\n              <div className=\"p-4 text-center text-slate-500\">No notifications</div>\n            ) : (\n              notifications.map(item => {\n                const days = getDaysRemaining(item.delivered_at);\n                const isOverdue = days !== null && days <= 0;\n                return (\n                  <button key={item.id} onClick={() => { onSelectItem(item); setShowDropdown(false); }} className=\"w-full p-3 hover:bg-white/5 transition text-left border-b border-white/5 last:border-0\">\n                    <div className=\"flex items-start gap-3\">\n                      <div className={`w-2 h-2 rounded-full mt-2 ${isOverdue ? 'bg-red-500' : 'bg-amber-500'}`} />\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-white font-medium truncate\">{item.product_name}</p>\n                        <p className=\"text-slate-400 text-sm\">{item.customer_name}</p>\n                        <p className={`text-sm mt-1 ${isOverdue ? 'text-red-400' : 'text-amber-400'}`}>\n                          {isOverdue ? `Payment overdue by ${Math.abs(days!)} days` : `${days} days left to collect`}\n                        </p>\n                      </div>\n                      <span className=\"text-emerald-400 font-medium text-sm\">{formatPeso(item.sold_price)}</span>\n                    </div>\n                  </button>\n                );\n              })\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default function Dashboard({ onLogout }: DashboardProps) {\n  const [activeTab, setActiveTab] = useState<'inventory' | 'secretaries'>('inventory');\n  const [items, setItems] = useState<InventoryItem[]>([]);\n  const [secretaries, setSecretaries] = useState<UserProfile[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showSecretaryModal, setShowSecretaryModal] = useState(false);\n  const [selectedItem, setSelectedItem] = useState<InventoryItem | null>(null);\n  const [viewMode, setViewMode] = useState<'card' | 'list'>('card');\n  const [showFilters, setShowFilters] = useState(false);\n  const [filters, setFilters] = useState<FilterOptions>({ status: 'all', freightType: 'all', vatType: 'all', inquired: 'all' });\n  const [loading, setLoading] = useState(true);\n  const [userEmail, setUserEmail] = useState('');\n  const [userId, setUserId] = useState('');\n  const [userRole, setUserRole] = useState<UserRole>('secretary');\n\n  const isAdmin = userRole === 'admin';\n\n  const fetchItems = useCallback(async () => {\n    try { const data = await getFilteredItems({ ...filters, searchQuery }); setItems(data); }\n    catch (error) { console.error('Failed to fetch items:', error); }\n    finally { setLoading(false); }\n  }, [filters, searchQuery]);\n\n  const fetchSecretaries = useCallback(async (adminId: string) => {\n    try { const data = await getSecretaries(adminId); setSecretaries(data); }\n    catch (error) { console.error('Failed to fetch secretaries:', error); }\n  }, []);\n\n  useEffect(() => {\n    const init = async () => {\n      const user = await getUser();\n      if (user) {\n        setUserEmail(user.email || ''); setUserId(user.id);\n        const role = await getUserRole(user.id);\n        setUserRole(role);\n        if (role === 'admin') fetchSecretaries(user.id);\n      }\n      fetchItems();\n    };\n    init();\n\n    const channel = supabase.channel('db-changes')\n      .on('postgres_changes', { event: '*', schema: 'public', table: 'items' }, () => fetchItems())\n      .subscribe();\n\n    return () => { supabase.removeChannel(channel); };\n  }, [fetchItems, fetchSecretaries]);\n\n  useEffect(() => {\n    const debounce = setTimeout(() => fetchItems(), 300);\n    return () => clearTimeout(debounce);\n  }, [searchQuery, filters, fetchItems]);\n\n  const handleLogout = async () => { await signOut(); onLogout(); };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('Are you sure you want to delete this item?')) return;\n    try { await deleteItem(id); setItems(items.filter(item => item.id !== id)); setSelectedItem(null); }\n    catch (error) { console.error('Failed to delete item:', error); }\n  };\n\n  const handleDeleteSecretary = async (id: string) => {\n    if (!confirm('Remove this secretary?')) return;\n    try { await deleteSecretary(id); setSecretaries(secretaries.filter(s => s.id !== id)); }\n    catch (error) { console.error('Failed to delete secretary:', error); }\n  };\n\n  const handleStatusChange = async (id: string, status: ItemStatus) => {\n    try {\n      const updated = await updateItemStatus(id, status);\n      setItems(items.map(item => (item.id === id ? updated : item)));\n      if (selectedItem?.id === id) setSelectedItem(updated);\n    } catch (error) { \n      const msg = error instanceof Error ? error.message : 'Unknown error';\n      console.error('Failed to update status:', msg, error); \n      alert('Failed to update status: ' + msg);\n    }\n  };\n\n  const handleCollectPayment = async (id: string) => {\n    if (!confirm('Mark payment as collected?')) return;\n    try {\n      const updated = await collectPayment(id);\n      setItems(items.map(item => (item.id === id ? updated : item)));\n      if (selectedItem?.id === id) setSelectedItem(updated);\n    } catch (error) { \n      const msg = error instanceof Error ? error.message : 'Unknown error';\n      console.error('Failed to collect payment:', msg, error); \n      alert('Failed to collect payment: ' + msg);\n    }\n  };\n\n  const totalBought = items.reduce((sum, item) => sum + item.bought_price, 0);\n  const totalSold = items.reduce((sum, item) => sum + item.sold_price, 0);\n  const deliveredItems = items.filter(item => item.status === 'delivered');\n  const profit = deliveredItems.reduce((sum, item) => sum + (item.sold_price - item.bought_price), 0);\n  const inquiredCount = items.filter(item => item.is_inquired).length;\n\n  return (\n    <ScreenshotProtection enabled={!isAdmin}>\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900\">\n        <header className=\"bg-white/5 backdrop-blur-lg border-b border-white/10\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center\">\n                  <TruckIcon className=\"w-5 h-5 text-white\" />\n                </div>\n                <div>\n                  <h1 className=\"text-xl font-bold text-white\">UTS 1.0</h1>\n                  <span className={`text-xs px-2 py-0.5 rounded ${isAdmin ? 'bg-amber-500/20 text-amber-400' : 'bg-slate-500/20 text-slate-400'}`}>\n                    {isAdmin ? 'Admin' : 'Secretary'}\n                  </span>\n                </div>\n              </div>\n              <div className=\"flex items-center gap-4\">\n                <NotificationBell items={items} onSelectItem={setSelectedItem} />\n                <span className=\"text-slate-400 hidden sm:block\"><span className=\"text-white font-medium\">{userEmail}</span></span>\n                <button onClick={handleLogout} className=\"px-4 py-2 text-slate-400 hover:text-white hover:bg-white/10 rounded-lg transition\">Logout</button>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          {/* Tabs */}\n          <div className=\"flex gap-2 mb-6\">\n            <button onClick={() => setActiveTab('inventory')} className={`px-6 py-3 rounded-xl font-medium transition ${activeTab === 'inventory' ? 'bg-emerald-500 text-white' : 'bg-white/5 text-slate-400 hover:text-white'}`}>\n              Inventory\n            </button>\n            {isAdmin && (\n              <button onClick={() => setActiveTab('secretaries')} className={`px-6 py-3 rounded-xl font-medium transition ${activeTab === 'secretaries' ? 'bg-emerald-500 text-white' : 'bg-white/5 text-slate-400 hover:text-white'}`}>\n                Secretaries ({secretaries.length})\n              </button>\n            )}\n          </div>\n\n          {activeTab === 'inventory' ? (\n            <>\n              {/* Stats */}\n              <div className={`grid ${isAdmin ? 'grid-cols-2 md:grid-cols-5' : 'grid-cols-2 md:grid-cols-4'} gap-4 mb-8`}>\n                <div className=\"bg-white/5 backdrop-blur-lg rounded-2xl p-5 border border-white/10\">\n                  <p className=\"text-slate-400 text-sm\">Total Items</p>\n                  <p className=\"text-2xl font-bold text-white\">{items.length}</p>\n                </div>\n                <div className=\"bg-white/5 backdrop-blur-lg rounded-2xl p-5 border border-white/10\">\n                  <p className=\"text-slate-400 text-sm\">Inquired</p>\n                  <p className=\"text-2xl font-bold text-cyan-400\">{inquiredCount}</p>\n                </div>\n                <div className=\"bg-white/5 backdrop-blur-lg rounded-2xl p-5 border border-white/10\">\n                  <p className=\"text-slate-400 text-sm\">Total Bought</p>\n                  <p className=\"text-2xl font-bold text-white\">{formatPeso(totalBought)}</p>\n                </div>\n                <div className=\"bg-white/5 backdrop-blur-lg rounded-2xl p-5 border border-white/10\">\n                  <p className=\"text-slate-400 text-sm\">Total Sold</p>\n                  <p className=\"text-2xl font-bold text-white\">{formatPeso(totalSold)}</p>\n                </div>\n                {isAdmin && (\n                  <div className=\"bg-white/5 backdrop-blur-lg rounded-2xl p-5 border border-white/10\">\n                    <p className=\"text-slate-400 text-sm\">Profit (Delivered)</p>\n                    <p className={`text-2xl font-bold ${profit >= 0 ? 'text-emerald-400' : 'text-red-400'}`}>\n                      {profit >= 0 ? '+' : '-'}{formatPeso(Math.abs(profit))}\n                    </p>\n                  </div>\n                )}\n              </div>\n\n              {/* Search, Filters, View Toggle, and Add */}\n              <div className=\"flex flex-col gap-4 mb-8\">\n                <div className=\"flex flex-col sm:flex-row gap-4\">\n                  <div className=\"flex-1 relative\">\n                    <svg className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                    </svg>\n                    <input type=\"text\" value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)} placeholder=\"Search products, customers...\" className=\"w-full pl-12 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\" />\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <button onClick={() => setShowFilters(!showFilters)} className={`px-4 py-3 rounded-xl border transition flex items-center gap-2 ${showFilters || filters.status !== 'all' || filters.freightType !== 'all' || filters.vatType !== 'all' || filters.inquired !== 'all' ? 'bg-emerald-500/20 border-emerald-500/50 text-emerald-400' : 'bg-white/5 border-white/10 text-slate-400 hover:text-white'}`}>\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z\" /></svg>\n                      <span className=\"hidden sm:inline\">Filters</span>\n                    </button>\n                    <div className=\"flex bg-white/5 rounded-xl p-1 border border-white/10\">\n                      <button onClick={() => setViewMode('card')} className={`px-4 py-2 rounded-lg transition ${viewMode === 'card' ? 'bg-emerald-500 text-white' : 'text-slate-400 hover:text-white'}`}>\n                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z\" /></svg>\n                      </button>\n                      <button onClick={() => setViewMode('list')} className={`px-4 py-2 rounded-lg transition ${viewMode === 'list' ? 'bg-emerald-500 text-white' : 'text-slate-400 hover:text-white'}`}>\n                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" /></svg>\n                      </button>\n                    </div>\n                    <button onClick={() => setShowAddModal(true)} className=\"px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-teal-700 transition flex items-center gap-2\">\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" /></svg>\n                      <span className=\"hidden sm:inline\">Add Item</span>\n                    </button>\n                  </div>\n                </div>\n\n                {showFilters && (\n                  <div className=\"bg-white/5 backdrop-blur-lg rounded-2xl p-6 border border-white/10\">\n                    <div className=\"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-7 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-slate-300 mb-2\">Status</label>\n                        <select value={filters.status || 'all'} onChange={(e) => setFilters({ ...filters, status: e.target.value as ItemStatus | 'all' })} className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\">\n                          <option value=\"all\">All</option>\n                          <option value=\"bought\">Bought</option>\n                          <option value=\"arrived\">Arrived</option>\n                          <option value=\"delivered\">Delivered</option>\n                        </select>\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-slate-300 mb-2\">Freight</label>\n                        <select value={filters.freightType || 'all'} onChange={(e) => setFilters({ ...filters, freightType: e.target.value as FreightType | 'all' })} className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\">\n                          <option value=\"all\">All</option>\n                          <option value=\"sea\">Sea</option>\n                          <option value=\"land\">Land</option>\n                          <option value=\"air\">Air</option>\n                        </select>\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-slate-300 mb-2\">VAT</label>\n                        <select value={filters.vatType || 'all'} onChange={(e) => setFilters({ ...filters, vatType: e.target.value as VatType | 'all' })} className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\">\n                          <option value=\"all\">All</option>\n                          <option value=\"vat_inclusive\">VAT</option>\n                          <option value=\"non_vat\">Non-VAT</option>\n                        </select>\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-slate-300 mb-2\">Inquired</label>\n                        <select value={filters.inquired === 'all' ? 'all' : filters.inquired ? 'yes' : 'no'} onChange={(e) => setFilters({ ...filters, inquired: e.target.value === 'all' ? 'all' : e.target.value === 'yes' })} className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\">\n                          <option value=\"all\">All</option>\n                          <option value=\"yes\">Inquired</option>\n                          <option value=\"no\">Not Inquired</option>\n                        </select>\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-slate-300 mb-2\">Min (₱)</label>\n                        <input type=\"number\" value={filters.minPrice || ''} onChange={(e) => setFilters({ ...filters, minPrice: e.target.value ? Number(e.target.value) : undefined })} placeholder=\"0\" className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\" />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-slate-300 mb-2\">Max (₱)</label>\n                        <input type=\"number\" value={filters.maxPrice || ''} onChange={(e) => setFilters({ ...filters, maxPrice: e.target.value ? Number(e.target.value) : undefined })} placeholder=\"100000\" className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\" />\n                      </div>\n                      <div className=\"flex items-end\">\n                        <button onClick={() => setFilters({ status: 'all', freightType: 'all', vatType: 'all', inquired: 'all' })} className=\"w-full px-4 py-3 bg-white/5 text-slate-300 font-medium rounded-xl hover:bg-white/10 transition\">Clear</button>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* Items Display */}\n              {loading ? (\n                <div className=\"flex items-center justify-center py-20\">\n                  <div className=\"w-8 h-8 border-2 border-emerald-500 border-t-transparent rounded-full animate-spin\"></div>\n                </div>\n              ) : items.length === 0 ? (\n                <div className=\"text-center py-20\">\n                  <div className=\"w-16 h-16 bg-white/5 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n                    <svg className=\"w-8 h-8 text-slate-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4\" /></svg>\n                  </div>\n                  <p className=\"text-slate-400\">No items found. Add your first item!</p>\n                </div>\n              ) : viewMode === 'card' ? (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  {items.map((item) => (\n                    <div key={item.id} onClick={() => setSelectedItem(item)} className=\"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 overflow-hidden hover:border-emerald-500/50 transition cursor-pointer group\">\n                      {item.image_url ? (\n                        <div className=\"aspect-video bg-slate-800 overflow-hidden relative\">\n                          <img src={item.image_url} alt={item.product_name} className=\"w-full h-full object-cover group-hover:scale-105 transition duration-300\" />\n                          {item.is_inquired && (\n                            <div className=\"absolute top-2 left-2 px-2 py-1 bg-cyan-500 text-white text-xs font-medium rounded\">INQUIRED</div>\n                          )}\n                        </div>\n                      ) : (\n                        <div className=\"aspect-video bg-gradient-to-br from-slate-700 to-slate-800 flex items-center justify-center relative\">\n                          <svg className=\"w-12 h-12 text-slate-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" /></svg>\n                          {item.is_inquired && (\n                            <div className=\"absolute top-2 left-2 px-2 py-1 bg-cyan-500 text-white text-xs font-medium rounded\">INQUIRED</div>\n                          )}\n                        </div>\n                      )}\n                      <div className=\"p-5\">\n                        <div className=\"flex items-start justify-between mb-2\">\n                          <h3 className=\"text-lg font-semibold text-white\">{item.product_name}</h3>\n                          <div className=\"flex items-center gap-2\">\n                            {item.status === 'delivered' && !item.payment_collected && (\n                              <span className={`px-2 py-1 text-xs rounded-full ${getDaysRemaining(item.delivered_at)! <= 0 ? 'bg-red-500/20 text-red-400' : getDaysRemaining(item.delivered_at)! <= 7 ? 'bg-amber-500/20 text-amber-400' : 'bg-cyan-500/20 text-cyan-400'}`}>\n                                D-{Math.max(0, getDaysRemaining(item.delivered_at) || 0)}\n                              </span>\n                            )}\n                            {item.payment_collected && (\n                              <span className=\"px-2 py-1 text-xs rounded-full bg-green-500/20 text-green-400\">Paid</span>\n                            )}\n                            <span className={`px-2 py-1 text-xs rounded-full ${item.status === 'delivered' ? 'bg-emerald-500/20 text-emerald-400' : item.status === 'arrived' ? 'bg-blue-500/20 text-blue-400' : 'bg-yellow-500/20 text-yellow-400'}`}>\n                              {item.status.charAt(0).toUpperCase() + item.status.slice(1)}\n                            </span>\n                          </div>\n                        </div>\n                        <p className=\"text-slate-400 text-sm\">{item.customer_name}</p>\n                        {item.contact && <p className=\"text-slate-500 text-xs\">{item.contact}</p>}\n                        <div className=\"flex gap-2 mt-2 flex-wrap\">\n                          <span className={`px-2 py-0.5 text-xs rounded ${item.vat_type === 'vat_inclusive' ? 'bg-purple-500/20 text-purple-400' : 'bg-orange-500/20 text-orange-400'}`}>\n                            {item.vat_type === 'vat_inclusive' ? 'VAT' : 'Non-VAT'}\n                          </span>\n                          <span className=\"px-2 py-0.5 text-xs rounded bg-slate-500/20 text-slate-400 flex items-center gap-1\">\n                            <FreightIcon type={item.freight_type} className=\"w-3 h-3\" />\n                            {item.freight_type.charAt(0).toUpperCase() + item.freight_type.slice(1)}\n                          </span>\n                        </div>\n                        <div className=\"my-4\"><StatusProgressBar status={item.status} /></div>\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-emerald-400 font-medium\">{formatPeso(item.sold_price)}</span>\n                          <span className=\"text-xs text-slate-500\">{new Date(item.created_at).toLocaleDateString()}</span>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <div className=\"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 overflow-hidden overflow-x-auto\">\n                  <table className=\"w-full\">\n                    <thead>\n                      <tr className=\"border-b border-white/10\">\n                        <th className=\"text-left p-4 text-slate-400 font-medium\">Product</th>\n                        <th className=\"text-left p-4 text-slate-400 font-medium hidden md:table-cell\">Customer</th>\n                        <th className=\"text-left p-4 text-slate-400 font-medium hidden lg:table-cell\">Contact</th>\n                        <th className=\"text-left p-4 text-slate-400 font-medium hidden lg:table-cell\">Status</th>\n                        <th className=\"text-center p-4 text-slate-400 font-medium hidden md:table-cell\">Inquired</th>\n                        <th className=\"text-right p-4 text-slate-400 font-medium\">Bought</th>\n                        <th className=\"text-right p-4 text-slate-400 font-medium\">Sold</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {items.map((item) => (\n                        <tr key={item.id} onClick={() => setSelectedItem(item)} className=\"border-b border-white/5 hover:bg-white/5 cursor-pointer transition\">\n                          <td className=\"p-4\">\n                            <div className=\"flex items-center gap-3\">\n                              {item.image_url ? <img src={item.image_url} alt=\"\" className=\"w-10 h-10 rounded-lg object-cover\" /> : <div className=\"w-10 h-10 rounded-lg bg-slate-700 flex items-center justify-center\"><svg className=\"w-5 h-5 text-slate-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" /></svg></div>}\n                              <span className=\"text-white font-medium\">{item.product_name}</span>\n                            </div>\n                          </td>\n                          <td className=\"p-4 text-slate-300 hidden md:table-cell\">{item.customer_name}</td>\n                          <td className=\"p-4 text-slate-400 hidden lg:table-cell\">{item.contact || '-'}</td>\n                          <td className=\"p-4 hidden lg:table-cell\">\n                            <span className={`px-2 py-1 text-xs rounded-full ${item.status === 'delivered' ? 'bg-emerald-500/20 text-emerald-400' : item.status === 'arrived' ? 'bg-blue-500/20 text-blue-400' : 'bg-yellow-500/20 text-yellow-400'}`}>\n                              {item.status.charAt(0).toUpperCase() + item.status.slice(1)}\n                            </span>\n                          </td>\n                          <td className=\"p-4 text-center hidden md:table-cell\">\n                            {item.is_inquired && <span className=\"px-2 py-1 text-xs rounded bg-cyan-500/20 text-cyan-400\">Yes</span>}\n                          </td>\n                          <td className=\"p-4 text-right text-red-400\">{formatPeso(item.bought_price)}</td>\n                          <td className=\"p-4 text-right text-emerald-400\">{formatPeso(item.sold_price)}</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </>\n          ) : (\n            /* Secretaries Tab - Admin Only */\n            <div>\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-xl font-bold text-white\">Manage Secretaries</h2>\n                <button onClick={() => setShowSecretaryModal(true)} className=\"px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-teal-700 transition flex items-center gap-2\">\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" /></svg>\n                  Add Secretary\n                </button>\n              </div>\n              <div className=\"bg-white/5 backdrop-blur-lg rounded-2xl p-6 border border-white/10 mb-6\">\n                <p className=\"text-slate-400 text-sm\">Secretaries can view and manage inventory but cannot see profit information.</p>\n              </div>\n              {secretaries.length === 0 ? (\n                <div className=\"text-center py-20 bg-white/5 rounded-2xl border border-white/10\"><p className=\"text-slate-400\">No secretaries added yet.</p></div>\n              ) : (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                  {secretaries.map((sec) => (\n                    <div key={sec.id} className=\"bg-white/5 backdrop-blur-lg rounded-2xl p-5 border border-white/10\">\n                      <div className=\"flex justify-between items-start\">\n                        <div>\n                          <p className=\"text-white font-medium\">{sec.email}</p>\n                          <p className=\"text-slate-500 text-xs mt-1\">Added {new Date(sec.created_at).toLocaleDateString()}</p>\n                        </div>\n                        <button onClick={() => handleDeleteSecretary(sec.id)} className=\"text-red-400 hover:text-red-300 p-2 hover:bg-red-500/10 rounded-lg transition\">\n                          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" /></svg>\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n        </main>\n\n        {showAddModal && <AddItemModal userId={userId} onClose={() => setShowAddModal(false)} onAdd={(item) => { setItems([item, ...items]); setShowAddModal(false); }} />}\n        {showSecretaryModal && <AddSecretaryModal adminId={userId} onClose={() => setShowSecretaryModal(false)} onAdd={(sec) => { setSecretaries([sec, ...secretaries]); setShowSecretaryModal(false); }} />}\n        {selectedItem && <ItemDetailModal item={selectedItem} isAdmin={isAdmin} onClose={() => setSelectedItem(null)} onDelete={() => handleDelete(selectedItem.id)} onStatusChange={(status) => handleStatusChange(selectedItem.id, status)} onCollectPayment={() => handleCollectPayment(selectedItem.id)} />}\n      </div>\n    </ScreenshotProtection>\n  );\n}\n\n\nfunction ItemDetailModal({ item, isAdmin, onClose, onDelete, onStatusChange, onCollectPayment }: { item: InventoryItem; isAdmin: boolean; onClose: () => void; onDelete: () => void; onStatusChange: (status: ItemStatus) => void; onCollectPayment: () => void }) {\n  const statuses: ItemStatus[] = ['bought', 'arrived', 'delivered'];\n  const profit = item.sold_price - item.bought_price;\n  const daysRemaining = getDaysRemaining(item.delivered_at);\n\n  const formatSource = (source: string | null) => {\n    if (!source) return '';\n    if (source === 'no_stock') return 'No Stock';\n    if (source === 'indent') return 'Indent';\n    return source;\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\" onClick={onClose}>\n      <div className=\"bg-slate-800 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-white/10\" onClick={(e) => e.stopPropagation()}>\n        {item.image_url ? (\n          <div className=\"aspect-video bg-slate-900 overflow-hidden relative\">\n            <img src={item.image_url} alt={item.product_name} className=\"w-full h-full object-contain\" />\n            {item.is_inquired && <div className=\"absolute top-4 left-4 px-3 py-1 bg-cyan-500 text-white text-sm font-medium rounded\">INQUIRED</div>}\n          </div>\n        ) : (\n          <div className=\"aspect-video bg-gradient-to-br from-slate-700 to-slate-800 flex items-center justify-center relative\">\n            <svg className=\"w-20 h-20 text-slate-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" /></svg>\n            {item.is_inquired && <div className=\"absolute top-4 left-4 px-3 py-1 bg-cyan-500 text-white text-sm font-medium rounded\">INQUIRED</div>}\n          </div>\n        )}\n\n        <div className=\"p-6\">\n          <div className=\"flex items-start justify-between mb-4\">\n            <div>\n              <h2 className=\"text-2xl font-bold text-white mb-1\">{item.product_name}</h2>\n              <p className=\"text-slate-400\">{new Date(item.created_at).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}</p>\n            </div>\n            <button onClick={onClose} className=\"text-slate-400 hover:text-white transition p-2\">\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" /></svg>\n            </button>\n          </div>\n\n          {/* Inquired Info Section */}\n          {item.is_inquired && item.inquired_list && item.inquired_list.length > 0 && (\n            <div className=\"bg-cyan-500/10 border border-cyan-500/20 rounded-xl p-4 mb-4\">\n              <h3 className=\"text-cyan-400 font-medium mb-3 flex items-center gap-2\">\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg>\n                Inquired From ({item.inquired_list.length})\n              </h3>\n              <div className=\"space-y-3\">\n                {item.inquired_list.map((inq, index) => (\n                  <div key={index} className=\"bg-white/5 rounded-lg p-3\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <span className=\"text-cyan-300 text-sm font-medium\">#{index + 1} {inq.name || 'Unnamed'}</span>\n                      {inq.price && <span className=\"text-cyan-400 font-medium\">{formatPeso(inq.price)}</span>}\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                      {inq.contact && (\n                        <div>\n                          <p className=\"text-slate-500\">Contact</p>\n                          <p className=\"text-white\">{inq.contact}</p>\n                        </div>\n                      )}\n                      {inq.source && (\n                        <div>\n                          <p className=\"text-slate-500\">Source</p>\n                          <p className=\"text-white\">{formatSource(inq.source)}</p>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          <div className=\"flex gap-2 mb-4 flex-wrap\">\n            <span className={`px-3 py-1 text-sm rounded-full ${item.vat_type === 'vat_inclusive' ? 'bg-purple-500/20 text-purple-400' : 'bg-orange-500/20 text-orange-400'}`}>\n              {item.vat_type === 'vat_inclusive' ? 'VAT Inclusive' : 'Non-VAT'}\n            </span>\n            <span className=\"px-3 py-1 text-sm rounded-full bg-slate-500/20 text-slate-400 flex items-center gap-1\">\n              <FreightIcon type={item.freight_type} className=\"w-4 h-4\" />\n              {item.freight_type.charAt(0).toUpperCase() + item.freight_type.slice(1)} Freight\n            </span>\n          </div>\n\n          <div className=\"bg-white/5 rounded-xl p-4 mb-6\">\n            <p className=\"text-slate-400 text-sm mb-3\">Delivery Status</p>\n            <StatusProgressBar status={item.status} />\n            <div className=\"flex gap-2 mt-4\">\n              {statuses.map((status) => (\n                <button key={status} onClick={() => onStatusChange(status)} className={`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition ${item.status === status ? 'bg-emerald-500 text-white' : 'bg-white/5 text-slate-400 hover:bg-white/10 hover:text-white'}`}>\n                  {status.charAt(0).toUpperCase() + status.slice(1)}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4 mb-6\">\n            <div className=\"bg-white/5 rounded-xl p-4\">\n              <p className=\"text-slate-400 text-sm mb-1\">Customer Name</p>\n              <p className=\"text-white font-medium\">{item.customer_name}</p>\n            </div>\n            <div className=\"bg-white/5 rounded-xl p-4\">\n              <p className=\"text-slate-400 text-sm mb-1\">Contact</p>\n              <p className=\"text-white font-medium\">{item.contact || '-'}</p>\n            </div>\n            <div className=\"bg-white/5 rounded-xl p-4\">\n              <p className=\"text-slate-400 text-sm mb-1\">Bought From</p>\n              <p className=\"text-white font-medium\">{item.bought_from}</p>\n            </div>\n            <div className=\"bg-white/5 rounded-xl p-4\">\n              <p className=\"text-slate-400 text-sm mb-1\">Purchaser</p>\n              <p className=\"text-white font-medium\">{item.purchaser}</p>\n            </div>\n          </div>\n\n          <div className={`grid ${isAdmin ? 'grid-cols-3' : 'grid-cols-2'} gap-4 mb-6`}>\n            <div className=\"bg-red-500/10 border border-red-500/20 rounded-xl p-4 text-center\">\n              <p className=\"text-red-400 text-sm mb-1\">Bought Price</p>\n              <p className=\"text-xl font-bold text-red-400\">{formatPeso(item.bought_price)}</p>\n            </div>\n            <div className=\"bg-emerald-500/10 border border-emerald-500/20 rounded-xl p-4 text-center\">\n              <p className=\"text-emerald-400 text-sm mb-1\">Sold Price</p>\n              <p className=\"text-xl font-bold text-emerald-400\">{formatPeso(item.sold_price)}</p>\n            </div>\n            {isAdmin && (\n              <div className={`${profit >= 0 ? 'bg-emerald-500/10 border-emerald-500/20' : 'bg-red-500/10 border-red-500/20'} border rounded-xl p-4 text-center`}>\n                <p className={`text-sm mb-1 ${profit >= 0 ? 'text-emerald-400' : 'text-red-400'}`}>Profit</p>\n                <p className={`text-xl font-bold ${profit >= 0 ? 'text-emerald-400' : 'text-red-400'}`}>{profit >= 0 ? '+' : '-'}{formatPeso(Math.abs(profit))}</p>\n              </div>\n            )}\n          </div>\n\n          <div className=\"flex gap-3\">\n            <button onClick={onClose} className=\"flex-1 py-3 px-4 bg-white/5 text-slate-300 font-medium rounded-xl hover:bg-white/10 transition\">Close</button>\n            <button onClick={onDelete} className=\"py-3 px-6 bg-red-500/10 text-red-400 font-medium rounded-xl hover:bg-red-500/20 transition flex items-center gap-2\">\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" /></svg>\n              Delete\n            </button>\n          </div>\n          {item.status === 'delivered' && !item.payment_collected && (\n            <button onClick={onCollectPayment} className={`w-full mt-3 py-3 px-4 font-medium rounded-xl transition flex items-center justify-center gap-2 ${daysRemaining !== null && daysRemaining <= 0 ? 'bg-red-500 hover:bg-red-600 text-white' : daysRemaining !== null && daysRemaining <= 7 ? 'bg-amber-500 hover:bg-amber-600 text-white' : 'bg-emerald-500 hover:bg-emerald-600 text-white'}`}>\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z\" /></svg>\n              Collect Payment {daysRemaining !== null && `(D-${Math.max(0, daysRemaining)})`}\n            </button>\n          )}\n          {item.payment_collected && (\n            <div className=\"w-full mt-3 py-3 px-4 bg-green-500/20 text-green-400 font-medium rounded-xl text-center flex items-center justify-center gap-2\">\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" /></svg>\n              Payment Collected\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\nfunction AddItemModal({ userId, onClose, onAdd }: { userId: string; onClose: () => void; onAdd: (item: InventoryItem) => void }) {\n  const [formData, setFormData] = useState({ product_name: '', customer_name: '', contact: '', bought_from: '', purchaser: '', bought_price: '', sold_price: '', freight_type: 'sea' as FreightType, vat_type: 'vat_inclusive' as VatType });\n  const [inquiredList, setInquiredList] = useState<{ name: string; price: string; contact: string; source: string; customSource: string }[]>([]);\n  const [imageFile, setImageFile] = useState<File | null>(null);\n  const [imagePreview, setImagePreview] = useState<string>('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) { setImageFile(file); const reader = new FileReader(); reader.onloadend = () => setImagePreview(reader.result as string); reader.readAsDataURL(file); }\n  };\n\n  const addInquiry = () => {\n    if (inquiredList.length < 3) setInquiredList([...inquiredList, { name: '', price: '', contact: '', source: 'no_stock', customSource: '' }]);\n  };\n\n  const removeInquiry = (index: number) => setInquiredList(inquiredList.filter((_, i) => i !== index));\n\n  const updateInquiry = (index: number, field: string, value: string) => {\n    const updated = [...inquiredList];\n    updated[index] = { ...updated[index], [field]: value };\n    setInquiredList(updated);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault(); setError(''); setLoading(true);\n    try {\n      let imageUrl: string | null = null;\n      if (imageFile) imageUrl = await uploadImage(imageFile, userId);\n      const finalInquiredList = inquiredList.map(inq => ({\n        name: inq.name, price: inq.price ? Number(inq.price) : null, contact: inq.contact,\n        source: inq.source === 'custom' ? inq.customSource : inq.source,\n      }));\n      const item = await addItem({\n        product_name: formData.product_name, customer_name: formData.customer_name, contact: formData.contact,\n        bought_from: formData.bought_from, purchaser: formData.purchaser,\n        bought_price: Number(formData.bought_price), sold_price: Number(formData.sold_price),\n        image_url: imageUrl, status: 'bought', freight_type: formData.freight_type, vat_type: formData.vat_type,\n        is_inquired: inquiredList.length > 0, inquired_list: inquiredList.length > 0 ? finalInquiredList : null,\n        delivered_at: null, payment_collected: false,\n        user_id: userId,\n      });\n      onAdd(item);\n    } catch (err) { setError(err instanceof Error ? err.message : 'Failed to add item'); }\n    finally { setLoading(false); }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-slate-800 rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto border border-white/10\">\n        <div className=\"p-6 border-b border-white/10 flex items-center justify-between\">\n          <h2 className=\"text-xl font-bold text-white\">Add New Item</h2>\n          <button onClick={onClose} className=\"text-slate-400 hover:text-white transition\"><svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" /></svg></button>\n        </div>\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">Product Name *</label>\n            <input type=\"text\" value={formData.product_name} onChange={(e) => setFormData({ ...formData, product_name: e.target.value })} className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\" placeholder=\"Product name\" required />\n          </div>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">Customer Name *</label>\n              <input type=\"text\" value={formData.customer_name} onChange={(e) => setFormData({ ...formData, customer_name: e.target.value })} className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\" placeholder=\"Customer\" required />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">Contact</label>\n              <input type=\"text\" value={formData.contact} onChange={(e) => setFormData({ ...formData, contact: e.target.value })} className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\" placeholder=\"Phone/Email\" />\n            </div>\n          </div>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">Bought From *</label>\n              <input type=\"text\" value={formData.bought_from} onChange={(e) => setFormData({ ...formData, bought_from: e.target.value })} className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\" placeholder=\"Source\" required />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">Purchaser *</label>\n              <input type=\"text\" value={formData.purchaser} onChange={(e) => setFormData({ ...formData, purchaser: e.target.value })} className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\" placeholder=\"Purchaser\" required />\n            </div>\n          </div>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">Bought Price (₱) *</label>\n              <input type=\"number\" value={formData.bought_price} onChange={(e) => setFormData({ ...formData, bought_price: e.target.value })} className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\" placeholder=\"0.00\" min=\"0\" step=\"0.01\" required />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">Sold Price (₱) *</label>\n              <input type=\"number\" value={formData.sold_price} onChange={(e) => setFormData({ ...formData, sold_price: e.target.value })} className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\" placeholder=\"0.00\" min=\"0\" step=\"0.01\" required />\n            </div>\n          </div>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">Freight Type</label>\n              <select value={formData.freight_type} onChange={(e) => setFormData({ ...formData, freight_type: e.target.value as FreightType })} className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\">\n                <option value=\"sea\">Sea Freight</option>\n                <option value=\"land\">Land Freight</option>\n                <option value=\"air\">Air Freight</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">VAT</label>\n              <select value={formData.vat_type} onChange={(e) => setFormData({ ...formData, vat_type: e.target.value as VatType })} className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\">\n                <option value=\"vat_inclusive\">VAT Inclusive</option>\n                <option value=\"non_vat\">Non-VAT</option>\n              </select>\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">Image</label>\n            <input type=\"file\" accept=\"image/*\" onChange={handleImageChange} className=\"hidden\" id=\"image-upload\" />\n            <label htmlFor=\"image-upload\" className=\"flex items-center justify-center w-full px-4 py-8 bg-white/5 border-2 border-dashed border-white/20 rounded-xl text-slate-400 hover:border-emerald-500 hover:text-emerald-400 cursor-pointer transition\">\n              {imagePreview ? <img src={imagePreview} alt=\"Preview\" className=\"max-h-32 rounded-lg\" /> : (\n                <div className=\"text-center\">\n                  <svg className=\"w-8 h-8 mx-auto mb-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" /></svg>\n                  <span>Click to upload image</span>\n                </div>\n              )}\n            </label>\n          </div>\n\n          {/* Inquired Section - Up to 3 */}\n          <div className=\"bg-cyan-500/10 border border-cyan-500/20 rounded-xl p-4\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <span className=\"text-cyan-400 font-medium\">Inquired From ({inquiredList.length}/3)</span>\n              {inquiredList.length < 3 && (\n                <button type=\"button\" onClick={addInquiry} className=\"text-cyan-400 hover:text-cyan-300 text-sm flex items-center gap-1\">\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" /></svg>\n                  Add\n                </button>\n              )}\n            </div>\n            {inquiredList.length === 0 && <p className=\"text-slate-500 text-sm text-center py-2\">No inquiries added. Click &quot;Add&quot; to add up to 3.</p>}\n            <div className=\"space-y-3\">\n              {inquiredList.map((inq, index) => (\n                <div key={index} className=\"bg-white/5 rounded-lg p-3 border border-cyan-500/10\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <span className=\"text-cyan-300 text-sm font-medium\">#{index + 1}</span>\n                    <button type=\"button\" onClick={() => removeInquiry(index)} className=\"text-red-400 hover:text-red-300 p-1\">\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" /></svg>\n                    </button>\n                  </div>\n                  <div className=\"space-y-2\">\n                    <input type=\"text\" value={inq.name} onChange={(e) => updateInquiry(index, 'name', e.target.value)} className=\"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 transition text-sm\" placeholder=\"Supplier/Store name\" />\n                    <div className=\"grid grid-cols-2 gap-2\">\n                      <input type=\"number\" value={inq.price} onChange={(e) => updateInquiry(index, 'price', e.target.value)} className=\"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 transition text-sm\" placeholder=\"Price (₱)\" min=\"0\" step=\"0.01\" />\n                      <input type=\"text\" value={inq.contact} onChange={(e) => updateInquiry(index, 'contact', e.target.value)} className=\"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 transition text-sm\" placeholder=\"Contact\" />\n                    </div>\n                    <select value={inq.source} onChange={(e) => updateInquiry(index, 'source', e.target.value)} className=\"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 transition text-sm\">\n                      <option value=\"no_stock\">No Stock</option>\n                      <option value=\"indent\">Indent</option>\n                      <option value=\"custom\">Custom...</option>\n                    </select>\n                    {inq.source === 'custom' && (\n                      <input type=\"text\" value={inq.customSource} onChange={(e) => updateInquiry(index, 'customSource', e.target.value)} className=\"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 transition text-sm\" placeholder=\"Custom source type\" />\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {error && <div className=\"bg-red-500/10 border border-red-500/50 rounded-xl p-3 text-red-400 text-sm text-center\">{error}</div>}\n          <div className=\"flex gap-3 pt-4\">\n            <button type=\"button\" onClick={onClose} className=\"flex-1 py-3 px-4 bg-white/5 text-slate-300 font-medium rounded-xl hover:bg-white/10 transition\">Cancel</button>\n            <button type=\"submit\" disabled={loading} className=\"flex-1 py-3 px-4 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-teal-700 transition disabled:opacity-50\">{loading ? 'Adding...' : 'Add Item'}</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nfunction AddSecretaryModal({ adminId, onClose, onAdd }: { adminId: string; onClose: () => void; onAdd: (profile: UserProfile) => void }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault(); setError(''); setLoading(true);\n    try {\n      const result = await inviteSecretary(email, password, adminId);\n      if (!result.success) throw new Error(result.error);\n      setSuccess(true);\n      setTimeout(() => { \n        if (result.profile) {\n          onAdd(result.profile);\n        }\n      }, 1500);\n    } catch (err) { setError(err instanceof Error ? err.message : 'Failed to create secretary'); }\n    finally { setLoading(false); }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-slate-800 rounded-2xl w-full max-w-md border border-white/10\">\n        <div className=\"p-6 border-b border-white/10 flex items-center justify-between\">\n          <h2 className=\"text-xl font-bold text-white\">Add Secretary</h2>\n          <button onClick={onClose} className=\"text-slate-400 hover:text-white transition\"><svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" /></svg></button>\n        </div>\n        {success ? (\n          <div className=\"p-6 text-center\">\n            <div className=\"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <svg className=\"w-8 h-8 text-emerald-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" /></svg>\n            </div>\n            <p className=\"text-white font-medium\">Secretary account created!</p>\n            <p className=\"text-slate-400 text-sm mt-2\">They can now log in.</p>\n          </div>\n        ) : (\n          <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\n            <div className=\"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4 mb-4\">\n              <p className=\"text-amber-400 text-sm\">Secretaries cannot view profit information.</p>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">Email *</label>\n              <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\" placeholder=\"secretary@example.com\" required />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">Password *</label>\n              <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition\" placeholder=\"Min 6 characters\" minLength={6} required />\n            </div>\n            {error && <div className=\"bg-red-500/10 border border-red-500/50 rounded-xl p-3 text-red-400 text-sm text-center\">{error}</div>}\n            <div className=\"flex gap-3 pt-2\">\n              <button type=\"button\" onClick={onClose} className=\"flex-1 py-3 px-4 bg-white/5 text-slate-300 font-medium rounded-xl hover:bg-white/10 transition\">Cancel</button>\n              <button type=\"submit\" disabled={loading} className=\"flex-1 py-3 px-4 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-teal-700 transition disabled:opacity-50\">{loading ? 'Creating...' : 'Create'}</button>\n            </div>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAcA,MAAM,aAAa,CAAC,SAAmB,CAAC,CAAC,EAAE,OAAO,cAAc,CAAC,SAAS;QAAE,uBAAuB;QAAG,uBAAuB;IAAE,IAAI;AAEnI,MAAM,YAAY,CAAC,EAAE,SAAS,EAA0B,iBACtD,gRAAC;QAAI,WAAW;QAAW,MAAK;QAAO,QAAO;QAAe,SAAQ;kBACnE,cAAA,gRAAC;YAAK,eAAc;YAAQ,gBAAe;YAAQ,aAAa;YAAG,GAAE;;;;;;;;;;;AAIzE,MAAM,cAAc,CAAC,EAAE,IAAI,EAAE,SAAS,EAA6C;IACjF,IAAI,SAAS,OAAO,qBAAO,gRAAC;QAAI,WAAW;QAAW,MAAK;QAAO,QAAO;QAAe,SAAQ;kBAAY,cAAA,gRAAC;YAAK,eAAc;YAAQ,gBAAe;YAAQ,aAAa;YAAG,GAAE;;;;;;;;;;;IACjL,IAAI,SAAS,OAAO,qBAAO,gRAAC;QAAI,WAAW;QAAW,MAAK;QAAO,QAAO;QAAe,SAAQ;kBAAY,cAAA,gRAAC;YAAK,eAAc;YAAQ,gBAAe;YAAQ,aAAa;YAAG,GAAE;;;;;;;;;;;IACjL,qBAAO,gRAAC;QAAU,WAAW;;;;;;AAC/B;AAEA,MAAM,oBAAoB,CAAC,EAAE,MAAM,EAA0B;IAC3D,MAAM,QAAsB;QAAC;QAAU;QAAW;KAAY;IAC9D,MAAM,eAAe,MAAM,OAAO,CAAC;IACnC,MAAM,WAAW,AAAC,eAAe,CAAC,MAAM,MAAM,GAAG,CAAC,IAAK;IAEvD,qBACE,gRAAC;QAAI,WAAU;;0BACb,gRAAC;gBAAI,WAAU;;kCACb,gRAAC;wBAAI,WAAU;kCACb,cAAA,gRAAC;4BAAI,WAAU;4BAAmF,OAAO;gCAAE,OAAO,GAAG,SAAS,CAAC,CAAC;4BAAC;;;;;;;;;;;kCAEnI,gRAAC;wBAAI,WAAU;wBAAgE,OAAO;4BAAE,MAAM,CAAC,KAAK,EAAE,SAAS,SAAS,CAAC;wBAAC;kCACxH,cAAA,gRAAC;4BAAI,WAAU;sCACb,cAAA,gRAAC;gCAAU,WAAU;;;;;;;;;;;;;;;;;;;;;;0BAI3B,gRAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,MAAM,kBAChB,gRAAC;wBAAgB,WAAW,KAAK,eAAe,qBAAqB;kCAClE,KAAK,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,CAAC;uBADlC;;;;;;;;;;;;;;;;AAOrB;AAEA,MAAM,uBAAuB,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAmD;IAClG,IAAA,oPAAS,EAAC;QACR,IAAI,CAAC,SAAS;QACd,MAAM,oBAAoB,CAAC;YAAoB,EAAE,cAAc;QAAI;QACnE,MAAM,gBAAgB,CAAC;YACrB,IAAI,EAAE,GAAG,KAAK,iBAAkB,EAAE,OAAO,IAAI,EAAE,QAAQ,IAAI,EAAE,GAAG,KAAK,OAAS,EAAE,OAAO,IAAI,EAAE,QAAQ,IAAI;gBAAC;gBAAI;gBAAI;aAAI,CAAC,QAAQ,CAAC,EAAE,GAAG,GAAI;gBACvI,EAAE,cAAc;gBAAI,MAAM;YAC5B;QACF;QACA,MAAM,yBAAyB;YAC7B,MAAM,UAAU,SAAS,cAAc,CAAC;YACxC,IAAI,SAAS,QAAQ,KAAK,CAAC,OAAO,GAAG,SAAS,MAAM,GAAG,SAAS;QAClE;QACA,SAAS,gBAAgB,CAAC,eAAe;QACzC,SAAS,gBAAgB,CAAC,WAAW;QACrC,SAAS,gBAAgB,CAAC,oBAAoB;QAC9C,OAAO;YACL,SAAS,mBAAmB,CAAC,eAAe;YAC5C,SAAS,mBAAmB,CAAC,WAAW;YACxC,SAAS,mBAAmB,CAAC,oBAAoB;QACnD;IACF,GAAG;QAAC;KAAQ;IAEZ,IAAI,CAAC,SAAS,qBAAO;kBAAG;;IACxB,qBACE,gRAAC;QAAI,WAAU;QAAuB,OAAO;YAAE,kBAAkB;YAAQ,YAAY;QAAO;;YACzF;0BACD,gRAAC;gBAAI,IAAG;gBAAqB,WAAU;0BACrC,cAAA,gRAAC;oBAAE,WAAU;8BAAqB;;;;;;;;;;;;;;;;;AAI1C;AAEA,MAAM,mBAAmB,CAAC;IACxB,IAAI,CAAC,aAAa,OAAO;IACzB,MAAM,YAAY,IAAI,KAAK;IAC3B,MAAM,WAAW,IAAI,KAAK,UAAU,OAAO,KAAK,KAAK,KAAK,KAAK,KAAK;IACpE,MAAM,MAAM,IAAI;IAChB,MAAM,OAAO,SAAS,OAAO,KAAK,IAAI,OAAO;IAC7C,OAAO,KAAK,IAAI,CAAC,OAAO,CAAC,KAAK,KAAK,KAAK,IAAI;AAC9C;AAEA,MAAM,mBAAmB,CAAC,EAAE,KAAK,EAAE,YAAY,EAA2E;IACxH,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,mPAAQ,EAAC;IAEjD,MAAM,eAAe,MAAM,MAAM,CAAC,CAAA;QAChC,IAAI,KAAK,MAAM,KAAK,eAAe,KAAK,iBAAiB,EAAE,OAAO;QAClE,MAAM,OAAO,iBAAiB,KAAK,YAAY;QAC/C,OAAO,SAAS,QAAQ,QAAQ;IAClC;IAEA,MAAM,cAAc,MAAM,MAAM,CAAC,CAAA;QAC/B,IAAI,KAAK,MAAM,KAAK,eAAe,KAAK,iBAAiB,EAAE,OAAO;QAClE,MAAM,OAAO,iBAAiB,KAAK,YAAY;QAC/C,OAAO,SAAS,QAAQ,OAAO,KAAK,QAAQ;IAC9C;IAEA,MAAM,gBAAgB;WAAI;WAAiB;KAAY;IACvD,MAAM,mBAAmB,cAAc,MAAM,GAAG;IAEhD,qBACE,gRAAC;QAAI,WAAU;;0BACb,gRAAC;gBAAO,SAAS,IAAM,gBAAgB,CAAC;gBAAe,WAAU;;kCAC/D,gRAAC;wBAAI,WAAU;wBAAU,MAAK;wBAAO,QAAO;wBAAe,SAAQ;kCACjE,cAAA,gRAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,aAAa;4BAAG,GAAE;;;;;;;;;;;oBAEtE,kCACC,gRAAC;wBAAK,WAAU;kCACb,cAAc,MAAM;;;;;;;;;;;;YAI1B,8BACC,gRAAC;gBAAI,WAAU;;kCACb,gRAAC;wBAAI,WAAU;kCACb,cAAA,gRAAC;4BAAG,WAAU;sCAAyB;;;;;;;;;;;kCAEzC,gRAAC;wBAAI,WAAU;kCACZ,cAAc,MAAM,KAAK,kBACxB,gRAAC;4BAAI,WAAU;sCAAiC;;;;;uEAEhD,cAAc,GAAG,CAAC,CAAA;4BAChB,MAAM,OAAO,iBAAiB,KAAK,YAAY;4BAC/C,MAAM,YAAY,SAAS,QAAQ,QAAQ;4BAC3C,qBACE,gRAAC;gCAAqB,SAAS;oCAAQ,aAAa;oCAAO,gBAAgB;gCAAQ;gCAAG,WAAU;0CAC9F,cAAA,gRAAC;oCAAI,WAAU;;sDACb,gRAAC;4CAAI,WAAW,CAAC,0BAA0B,EAAE,YAAY,eAAe,gBAAgB;;;;;;sDACxF,gRAAC;4CAAI,WAAU;;8DACb,gRAAC;oDAAE,WAAU;8DAAmC,KAAK,YAAY;;;;;;8DACjE,gRAAC;oDAAE,WAAU;8DAA0B,KAAK,aAAa;;;;;;8DACzD,gRAAC;oDAAE,WAAW,CAAC,aAAa,EAAE,YAAY,iBAAiB,kBAAkB;8DAC1E,YAAY,CAAC,mBAAmB,EAAE,KAAK,GAAG,CAAC,MAAO,KAAK,CAAC,GAAG,GAAG,KAAK,qBAAqB,CAAC;;;;;;;;;;;;sDAG9F,gRAAC;4CAAK,WAAU;sDAAwC,WAAW,KAAK,UAAU;;;;;;;;;;;;+BAVzE,KAAK,EAAE;;;;;wBAcxB;;;;;;;;;;;;;;;;;;AAOd;AAEe,SAAS,UAAU,EAAE,QAAQ,EAAkB;IAC5D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,mPAAQ,EAA8B;IACxE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,mPAAQ,EAAkB,EAAE;IACtD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,mPAAQ,EAAgB,EAAE;IAChE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,mPAAQ,EAAC;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,mPAAQ,EAAC;IACjD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,mPAAQ,EAAC;IAC7D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,mPAAQ,EAAuB;IACvE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,mPAAQ,EAAkB;IAC1D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,mPAAQ,EAAC;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mPAAQ,EAAgB;QAAE,QAAQ;QAAO,aAAa;QAAO,SAAS;QAAO,UAAU;IAAM;IAC3H,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mPAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,mPAAQ,EAAC;IAC3C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,mPAAQ,EAAC;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,mPAAQ,EAAW;IAEnD,MAAM,UAAU,aAAa;IAE7B,MAAM,aAAa,IAAA,sPAAW,EAAC;QAC7B,IAAI;YAAE,MAAM,OAAO,MAAM,IAAA,4KAAgB,EAAC;gBAAE,GAAG,OAAO;gBAAE;YAAY;YAAI,SAAS;QAAO,EACxF,OAAO,OAAO;YAAE,QAAQ,KAAK,CAAC,0BAA0B;QAAQ,SACxD;YAAE,WAAW;QAAQ;IAC/B,GAAG;QAAC;QAAS;KAAY;IAEzB,MAAM,mBAAmB,IAAA,sPAAW,EAAC,OAAO;QAC1C,IAAI;YAAE,MAAM,OAAO,MAAM,IAAA,0KAAc,EAAC;YAAU,eAAe;QAAO,EACxE,OAAO,OAAO;YAAE,QAAQ,KAAK,CAAC,gCAAgC;QAAQ;IACxE,GAAG,EAAE;IAEL,IAAA,oPAAS,EAAC;QACR,MAAM,OAAO;YACX,MAAM,OAAO,MAAM,IAAA,+JAAO;YAC1B,IAAI,MAAM;gBACR,aAAa,KAAK,KAAK,IAAI;gBAAK,UAAU,KAAK,EAAE;gBACjD,MAAM,OAAO,MAAM,IAAA,mKAAW,EAAC,KAAK,EAAE;gBACtC,YAAY;gBACZ,IAAI,SAAS,SAAS,iBAAiB,KAAK,EAAE;YAChD;YACA;QACF;QACA;QAEA,MAAM,UAAU,oKAAQ,CAAC,OAAO,CAAC,cAC9B,EAAE,CAAC,oBAAoB;YAAE,OAAO;YAAK,QAAQ;YAAU,OAAO;QAAQ,GAAG,IAAM,cAC/E,SAAS;QAEZ,OAAO;YAAQ,oKAAQ,CAAC,aAAa,CAAC;QAAU;IAClD,GAAG;QAAC;QAAY;KAAiB;IAEjC,IAAA,oPAAS,EAAC;QACR,MAAM,WAAW,WAAW,IAAM,cAAc;QAChD,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;QAAa;QAAS;KAAW;IAErC,MAAM,eAAe;QAAc,MAAM,IAAA,+JAAO;QAAI;IAAY;IAEhE,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,QAAQ,+CAA+C;QAC5D,IAAI;YAAE,MAAM,IAAA,sKAAU,EAAC;YAAK,SAAS,MAAM,MAAM,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;YAAM,gBAAgB;QAAO,EACnG,OAAO,OAAO;YAAE,QAAQ,KAAK,CAAC,0BAA0B;QAAQ;IAClE;IAEA,MAAM,wBAAwB,OAAO;QACnC,IAAI,CAAC,QAAQ,2BAA2B;QACxC,IAAI;YAAE,MAAM,IAAA,2KAAe,EAAC;YAAK,eAAe,YAAY,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;QAAM,EACvF,OAAO,OAAO;YAAE,QAAQ,KAAK,CAAC,+BAA+B;QAAQ;IACvE;IAEA,MAAM,qBAAqB,OAAO,IAAY;QAC5C,IAAI;YACF,MAAM,UAAU,MAAM,IAAA,4KAAgB,EAAC,IAAI;YAC3C,SAAS,MAAM,GAAG,CAAC,CAAA,OAAS,KAAK,EAAE,KAAK,KAAK,UAAU;YACvD,IAAI,cAAc,OAAO,IAAI,gBAAgB;QAC/C,EAAE,OAAO,OAAO;YACd,MAAM,MAAM,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YACrD,QAAQ,KAAK,CAAC,4BAA4B,KAAK;YAC/C,MAAM,8BAA8B;QACtC;IACF;IAEA,MAAM,uBAAuB,OAAO;QAClC,IAAI,CAAC,QAAQ,+BAA+B;QAC5C,IAAI;YACF,MAAM,UAAU,MAAM,IAAA,0KAAc,EAAC;YACrC,SAAS,MAAM,GAAG,CAAC,CAAA,OAAS,KAAK,EAAE,KAAK,KAAK,UAAU;YACvD,IAAI,cAAc,OAAO,IAAI,gBAAgB;QAC/C,EAAE,OAAO,OAAO;YACd,MAAM,MAAM,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YACrD,QAAQ,KAAK,CAAC,8BAA8B,KAAK;YACjD,MAAM,gCAAgC;QACxC;IACF;IAEA,MAAM,cAAc,MAAM,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,YAAY,EAAE;IACzE,MAAM,YAAY,MAAM,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,UAAU,EAAE;IACrE,MAAM,iBAAiB,MAAM,MAAM,CAAC,CAAA,OAAQ,KAAK,MAAM,KAAK;IAC5D,MAAM,SAAS,eAAe,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,CAAC,KAAK,UAAU,GAAG,KAAK,YAAY,GAAG;IACjG,MAAM,gBAAgB,MAAM,MAAM,CAAC,CAAA,OAAQ,KAAK,WAAW,EAAE,MAAM;IAEnE,qBACE,gRAAC;QAAqB,SAAS,CAAC;kBAC9B,cAAA,gRAAC;YAAI,WAAU;;8BACb,gRAAC;oBAAO,WAAU;8BAChB,cAAA,gRAAC;wBAAI,WAAU;kCACb,cAAA,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;oCAAI,WAAU;;sDACb,gRAAC;4CAAI,WAAU;sDACb,cAAA,gRAAC;gDAAU,WAAU;;;;;;;;;;;sDAEvB,gRAAC;;8DACC,gRAAC;oDAAG,WAAU;8DAA+B;;;;;;8DAC7C,gRAAC;oDAAK,WAAW,CAAC,4BAA4B,EAAE,UAAU,mCAAmC,kCAAkC;8DAC5H,UAAU,UAAU;;;;;;;;;;;;;;;;;;8CAI3B,gRAAC;oCAAI,WAAU;;sDACb,gRAAC;4CAAiB,OAAO;4CAAO,cAAc;;;;;;sDAC9C,gRAAC;4CAAK,WAAU;sDAAiC,cAAA,gRAAC;gDAAK,WAAU;0DAA0B;;;;;;;;;;;sDAC3F,gRAAC;4CAAO,SAAS;4CAAc,WAAU;sDAAoF;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAMrI,gRAAC;oBAAK,WAAU;;sCAEd,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;oCAAO,SAAS,IAAM,aAAa;oCAAc,WAAW,CAAC,4CAA4C,EAAE,cAAc,cAAc,8BAA8B,8CAA8C;8CAAE;;;;;;gCAGrN,yBACC,gRAAC;oCAAO,SAAS,IAAM,aAAa;oCAAgB,WAAW,CAAC,4CAA4C,EAAE,cAAc,gBAAgB,8BAA8B,8CAA8C;;wCAAE;wCAC1M,YAAY,MAAM;wCAAC;;;;;;;;;;;;;wBAKtC,cAAc,4BACb;;8CAEE,gRAAC;oCAAI,WAAW,CAAC,KAAK,EAAE,UAAU,+BAA+B,6BAA6B,WAAW,CAAC;;sDACxG,gRAAC;4CAAI,WAAU;;8DACb,gRAAC;oDAAE,WAAU;8DAAyB;;;;;;8DACtC,gRAAC;oDAAE,WAAU;8DAAiC,MAAM,MAAM;;;;;;;;;;;;sDAE5D,gRAAC;4CAAI,WAAU;;8DACb,gRAAC;oDAAE,WAAU;8DAAyB;;;;;;8DACtC,gRAAC;oDAAE,WAAU;8DAAoC;;;;;;;;;;;;sDAEnD,gRAAC;4CAAI,WAAU;;8DACb,gRAAC;oDAAE,WAAU;8DAAyB;;;;;;8DACtC,gRAAC;oDAAE,WAAU;8DAAiC,WAAW;;;;;;;;;;;;sDAE3D,gRAAC;4CAAI,WAAU;;8DACb,gRAAC;oDAAE,WAAU;8DAAyB;;;;;;8DACtC,gRAAC;oDAAE,WAAU;8DAAiC,WAAW;;;;;;;;;;;;wCAE1D,yBACC,gRAAC;4CAAI,WAAU;;8DACb,gRAAC;oDAAE,WAAU;8DAAyB;;;;;;8DACtC,gRAAC;oDAAE,WAAW,CAAC,mBAAmB,EAAE,UAAU,IAAI,qBAAqB,gBAAgB;;wDACpF,UAAU,IAAI,MAAM;wDAAK,WAAW,KAAK,GAAG,CAAC;;;;;;;;;;;;;;;;;;;8CAOtD,gRAAC;oCAAI,WAAU;;sDACb,gRAAC;4CAAI,WAAU;;8DACb,gRAAC;oDAAI,WAAU;;sEACb,gRAAC;4DAAI,WAAU;4DAAkE,MAAK;4DAAO,QAAO;4DAAe,SAAQ;sEACzH,cAAA,gRAAC;gEAAK,eAAc;gEAAQ,gBAAe;gEAAQ,aAAa;gEAAG,GAAE;;;;;;;;;;;sEAEvE,gRAAC;4DAAM,MAAK;4DAAO,OAAO;4DAAa,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;4DAAG,aAAY;4DAAgC,WAAU;;;;;;;;;;;;8DAEhJ,gRAAC;oDAAI,WAAU;;sEACb,gRAAC;4DAAO,SAAS,IAAM,eAAe,CAAC;4DAAc,WAAW,CAAC,+DAA+D,EAAE,eAAe,QAAQ,MAAM,KAAK,SAAS,QAAQ,WAAW,KAAK,SAAS,QAAQ,OAAO,KAAK,SAAS,QAAQ,QAAQ,KAAK,QAAQ,6DAA6D,8DAA8D;;8EACjY,gRAAC;oEAAI,WAAU;oEAAU,MAAK;oEAAO,QAAO;oEAAe,SAAQ;8EAAY,cAAA,gRAAC;wEAAK,eAAc;wEAAQ,gBAAe;wEAAQ,aAAa;wEAAG,GAAE;;;;;;;;;;;8EACpJ,gRAAC;oEAAK,WAAU;8EAAmB;;;;;;;;;;;;sEAErC,gRAAC;4DAAI,WAAU;;8EACb,gRAAC;oEAAO,SAAS,IAAM,YAAY;oEAAS,WAAW,CAAC,gCAAgC,EAAE,aAAa,SAAS,8BAA8B,mCAAmC;8EAC/K,cAAA,gRAAC;wEAAI,WAAU;wEAAU,MAAK;wEAAO,QAAO;wEAAe,SAAQ;kFAAY,cAAA,gRAAC;4EAAK,eAAc;4EAAQ,gBAAe;4EAAQ,aAAa;4EAAG,GAAE;;;;;;;;;;;;;;;;8EAEtJ,gRAAC;oEAAO,SAAS,IAAM,YAAY;oEAAS,WAAW,CAAC,gCAAgC,EAAE,aAAa,SAAS,8BAA8B,mCAAmC;8EAC/K,cAAA,gRAAC;wEAAI,WAAU;wEAAU,MAAK;wEAAO,QAAO;wEAAe,SAAQ;kFAAY,cAAA,gRAAC;4EAAK,eAAc;4EAAQ,gBAAe;4EAAQ,aAAa;4EAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;sEAGxJ,gRAAC;4DAAO,SAAS,IAAM,gBAAgB;4DAAO,WAAU;;8EACtD,gRAAC;oEAAI,WAAU;oEAAU,MAAK;oEAAO,QAAO;oEAAe,SAAQ;8EAAY,cAAA,gRAAC;wEAAK,eAAc;wEAAQ,gBAAe;wEAAQ,aAAa;wEAAG,GAAE;;;;;;;;;;;8EACpJ,gRAAC;oEAAK,WAAU;8EAAmB;;;;;;;;;;;;;;;;;;;;;;;;wCAKxC,6BACC,gRAAC;4CAAI,WAAU;sDACb,cAAA,gRAAC;gDAAI,WAAU;;kEACb,gRAAC;;0EACC,gRAAC;gEAAM,WAAU;0EAAgD;;;;;;0EACjE,gRAAC;gEAAO,OAAO,QAAQ,MAAM,IAAI;gEAAO,UAAU,CAAC,IAAM,WAAW;wEAAE,GAAG,OAAO;wEAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;oEAAuB;gEAAI,WAAU;;kFAC3I,gRAAC;wEAAO,OAAM;kFAAM;;;;;;kFACpB,gRAAC;wEAAO,OAAM;kFAAS;;;;;;kFACvB,gRAAC;wEAAO,OAAM;kFAAU;;;;;;kFACxB,gRAAC;wEAAO,OAAM;kFAAY;;;;;;;;;;;;;;;;;;kEAG9B,gRAAC;;0EACC,gRAAC;gEAAM,WAAU;0EAAgD;;;;;;0EACjE,gRAAC;gEAAO,OAAO,QAAQ,WAAW,IAAI;gEAAO,UAAU,CAAC,IAAM,WAAW;wEAAE,GAAG,OAAO;wEAAE,aAAa,EAAE,MAAM,CAAC,KAAK;oEAAwB;gEAAI,WAAU;;kFACtJ,gRAAC;wEAAO,OAAM;kFAAM;;;;;;kFACpB,gRAAC;wEAAO,OAAM;kFAAM;;;;;;kFACpB,gRAAC;wEAAO,OAAM;kFAAO;;;;;;kFACrB,gRAAC;wEAAO,OAAM;kFAAM;;;;;;;;;;;;;;;;;;kEAGxB,gRAAC;;0EACC,gRAAC;gEAAM,WAAU;0EAAgD;;;;;;0EACjE,gRAAC;gEAAO,OAAO,QAAQ,OAAO,IAAI;gEAAO,UAAU,CAAC,IAAM,WAAW;wEAAE,GAAG,OAAO;wEAAE,SAAS,EAAE,MAAM,CAAC,KAAK;oEAAoB;gEAAI,WAAU;;kFAC1I,gRAAC;wEAAO,OAAM;kFAAM;;;;;;kFACpB,gRAAC;wEAAO,OAAM;kFAAgB;;;;;;kFAC9B,gRAAC;wEAAO,OAAM;kFAAU;;;;;;;;;;;;;;;;;;kEAG5B,gRAAC;;0EACC,gRAAC;gEAAM,WAAU;0EAAgD;;;;;;0EACjE,gRAAC;gEAAO,OAAO,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,QAAQ,QAAQ,GAAG,QAAQ;gEAAM,UAAU,CAAC,IAAM,WAAW;wEAAE,GAAG,OAAO;wEAAE,UAAU,EAAE,MAAM,CAAC,KAAK,KAAK,QAAQ,QAAQ,EAAE,MAAM,CAAC,KAAK,KAAK;oEAAM;gEAAI,WAAU;;kFACjN,gRAAC;wEAAO,OAAM;kFAAM;;;;;;kFACpB,gRAAC;wEAAO,OAAM;kFAAM;;;;;;kFACpB,gRAAC;wEAAO,OAAM;kFAAK;;;;;;;;;;;;;;;;;;kEAGvB,gRAAC;;0EACC,gRAAC;gEAAM,WAAU;0EAAgD;;;;;;0EACjE,gRAAC;gEAAM,MAAK;gEAAS,OAAO,QAAQ,QAAQ,IAAI;gEAAI,UAAU,CAAC,IAAM,WAAW;wEAAE,GAAG,OAAO;wEAAE,UAAU,EAAE,MAAM,CAAC,KAAK,GAAG,OAAO,EAAE,MAAM,CAAC,KAAK,IAAI;oEAAU;gEAAI,aAAY;gEAAI,WAAU;;;;;;;;;;;;kEAE5L,gRAAC;;0EACC,gRAAC;gEAAM,WAAU;0EAAgD;;;;;;0EACjE,gRAAC;gEAAM,MAAK;gEAAS,OAAO,QAAQ,QAAQ,IAAI;gEAAI,UAAU,CAAC,IAAM,WAAW;wEAAE,GAAG,OAAO;wEAAE,UAAU,EAAE,MAAM,CAAC,KAAK,GAAG,OAAO,EAAE,MAAM,CAAC,KAAK,IAAI;oEAAU;gEAAI,aAAY;gEAAS,WAAU;;;;;;;;;;;;kEAEjM,gRAAC;wDAAI,WAAU;kEACb,cAAA,gRAAC;4DAAO,SAAS,IAAM,WAAW;oEAAE,QAAQ;oEAAO,aAAa;oEAAO,SAAS;oEAAO,UAAU;gEAAM;4DAAI,WAAU;sEAAiG;;;;;;;;;;;;;;;;;;;;;;;;;;;;gCAQ/N,wBACC,gRAAC;oCAAI,WAAU;8CACb,cAAA,gRAAC;wCAAI,WAAU;;;;;;;;;;2CAEf,MAAM,MAAM,KAAK,kBACnB,gRAAC;oCAAI,WAAU;;sDACb,gRAAC;4CAAI,WAAU;sDACb,cAAA,gRAAC;gDAAI,WAAU;gDAAyB,MAAK;gDAAO,QAAO;gDAAe,SAAQ;0DAAY,cAAA,gRAAC;oDAAK,eAAc;oDAAQ,gBAAe;oDAAQ,aAAa;oDAAG,GAAE;;;;;;;;;;;;;;;;sDAErK,gRAAC;4CAAE,WAAU;sDAAiB;;;;;;;;;;;2CAE9B,aAAa,uBACf,gRAAC;oCAAI,WAAU;8CACZ,MAAM,GAAG,CAAC,CAAC,qBACV,gRAAC;4CAAkB,SAAS,IAAM,gBAAgB;4CAAO,WAAU;;gDAChE,KAAK,SAAS,iBACb,gRAAC;oDAAI,WAAU;;sEACb,gRAAC;4DAAI,KAAK,KAAK,SAAS;4DAAE,KAAK,KAAK,YAAY;4DAAE,WAAU;;;;;;wDAC3D,KAAK,WAAW,kBACf,gRAAC;4DAAI,WAAU;sEAAqF;;;;;;;;;;;yEAIxG,gRAAC;oDAAI,WAAU;;sEACb,gRAAC;4DAAI,WAAU;4DAA2B,MAAK;4DAAO,QAAO;4DAAe,SAAQ;sEAAY,cAAA,gRAAC;gEAAK,eAAc;gEAAQ,gBAAe;gEAAQ,aAAa;gEAAG,GAAE;;;;;;;;;;;wDACpK,KAAK,WAAW,kBACf,gRAAC;4DAAI,WAAU;sEAAqF;;;;;;;;;;;;8DAI1G,gRAAC;oDAAI,WAAU;;sEACb,gRAAC;4DAAI,WAAU;;8EACb,gRAAC;oEAAG,WAAU;8EAAoC,KAAK,YAAY;;;;;;8EACnE,gRAAC;oEAAI,WAAU;;wEACZ,KAAK,MAAM,KAAK,eAAe,CAAC,KAAK,iBAAiB,kBACrD,gRAAC;4EAAK,WAAW,CAAC,+BAA+B,EAAE,iBAAiB,KAAK,YAAY,KAAM,IAAI,+BAA+B,iBAAiB,KAAK,YAAY,KAAM,IAAI,mCAAmC,gCAAgC;;gFAAE;gFAC1O,KAAK,GAAG,CAAC,GAAG,iBAAiB,KAAK,YAAY,KAAK;;;;;;;wEAGzD,KAAK,iBAAiB,kBACrB,gRAAC;4EAAK,WAAU;sFAAgE;;;;;;sFAElF,gRAAC;4EAAK,WAAW,CAAC,+BAA+B,EAAE,KAAK,MAAM,KAAK,cAAc,uCAAuC,KAAK,MAAM,KAAK,YAAY,iCAAiC,oCAAoC;sFACtN,KAAK,MAAM,CAAC,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,MAAM,CAAC,KAAK,CAAC;;;;;;;;;;;;;;;;;;sEAI/D,gRAAC;4DAAE,WAAU;sEAA0B,KAAK,aAAa;;;;;;wDACxD,KAAK,OAAO,kBAAI,gRAAC;4DAAE,WAAU;sEAA0B,KAAK,OAAO;;;;;;sEACpE,gRAAC;4DAAI,WAAU;;8EACb,gRAAC;oEAAK,WAAW,CAAC,4BAA4B,EAAE,KAAK,QAAQ,KAAK,kBAAkB,qCAAqC,oCAAoC;8EAC1J,KAAK,QAAQ,KAAK,kBAAkB,QAAQ;;;;;;8EAE/C,gRAAC;oEAAK,WAAU;;sFACd,gRAAC;4EAAY,MAAM,KAAK,YAAY;4EAAE,WAAU;;;;;;wEAC/C,KAAK,YAAY,CAAC,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,YAAY,CAAC,KAAK,CAAC;;;;;;;;;;;;;sEAGzE,gRAAC;4DAAI,WAAU;sEAAO,cAAA,gRAAC;gEAAkB,QAAQ,KAAK,MAAM;;;;;;;;;;;sEAC5D,gRAAC;4DAAI,WAAU;;8EACb,gRAAC;oEAAK,WAAU;8EAAgC,WAAW,KAAK,UAAU;;;;;;8EAC1E,gRAAC;oEAAK,WAAU;8EAA0B,IAAI,KAAK,KAAK,UAAU,EAAE,kBAAkB;;;;;;;;;;;;;;;;;;;2CA/ClF,KAAK,EAAE;;;;;;;;;yDAsDrB,gRAAC;oCAAI,WAAU;8CACb,cAAA,gRAAC;wCAAM,WAAU;;0DACf,gRAAC;0DACC,cAAA,gRAAC;oDAAG,WAAU;;sEACZ,gRAAC;4DAAG,WAAU;sEAA2C;;;;;;sEACzD,gRAAC;4DAAG,WAAU;sEAAgE;;;;;;sEAC9E,gRAAC;4DAAG,WAAU;sEAAgE;;;;;;sEAC9E,gRAAC;4DAAG,WAAU;sEAAgE;;;;;;sEAC9E,gRAAC;4DAAG,WAAU;sEAAkE;;;;;;sEAChF,gRAAC;4DAAG,WAAU;sEAA4C;;;;;;sEAC1D,gRAAC;4DAAG,WAAU;sEAA4C;;;;;;;;;;;;;;;;;0DAG9D,gRAAC;0DACE,MAAM,GAAG,CAAC,CAAC,qBACV,gRAAC;wDAAiB,SAAS,IAAM,gBAAgB;wDAAO,WAAU;;0EAChE,gRAAC;gEAAG,WAAU;0EACZ,cAAA,gRAAC;oEAAI,WAAU;;wEACZ,KAAK,SAAS,iBAAG,gRAAC;4EAAI,KAAK,KAAK,SAAS;4EAAE,KAAI;4EAAG,WAAU;;;;;iGAAyC,gRAAC;4EAAI,WAAU;sFAAqE,cAAA,gRAAC;gFAAI,WAAU;gFAAyB,MAAK;gFAAO,QAAO;gFAAe,SAAQ;0FAAY,cAAA,gRAAC;oFAAK,eAAc;oFAAQ,gBAAe;oFAAQ,aAAa;oFAAG,GAAE;;;;;;;;;;;;;;;;sFAC7V,gRAAC;4EAAK,WAAU;sFAA0B,KAAK,YAAY;;;;;;;;;;;;;;;;;0EAG/D,gRAAC;gEAAG,WAAU;0EAA2C,KAAK,aAAa;;;;;;0EAC3E,gRAAC;gEAAG,WAAU;0EAA2C,KAAK,OAAO,IAAI;;;;;;0EACzE,gRAAC;gEAAG,WAAU;0EACZ,cAAA,gRAAC;oEAAK,WAAW,CAAC,+BAA+B,EAAE,KAAK,MAAM,KAAK,cAAc,uCAAuC,KAAK,MAAM,KAAK,YAAY,iCAAiC,oCAAoC;8EACtN,KAAK,MAAM,CAAC,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,MAAM,CAAC,KAAK,CAAC;;;;;;;;;;;0EAG7D,gRAAC;gEAAG,WAAU;0EACX,KAAK,WAAW,kBAAI,gRAAC;oEAAK,WAAU;8EAAyD;;;;;;;;;;;0EAEhG,gRAAC;gEAAG,WAAU;0EAA+B,WAAW,KAAK,YAAY;;;;;;0EACzE,gRAAC;gEAAG,WAAU;0EAAmC,WAAW,KAAK,UAAU;;;;;;;uDAlBpE,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;2CA2B5B,gCAAgC,iBAChC,gRAAC;;8CACC,gRAAC;oCAAI,WAAU;;sDACb,gRAAC;4CAAG,WAAU;sDAA+B;;;;;;sDAC7C,gRAAC;4CAAO,SAAS,IAAM,sBAAsB;4CAAO,WAAU;;8DAC5D,gRAAC;oDAAI,WAAU;oDAAU,MAAK;oDAAO,QAAO;oDAAe,SAAQ;8DAAY,cAAA,gRAAC;wDAAK,eAAc;wDAAQ,gBAAe;wDAAQ,aAAa;wDAAG,GAAE;;;;;;;;;;;gDAAyB;;;;;;;;;;;;;8CAIjL,gRAAC;oCAAI,WAAU;8CACb,cAAA,gRAAC;wCAAE,WAAU;kDAAyB;;;;;;;;;;;gCAEvC,YAAY,MAAM,KAAK,kBACtB,gRAAC;oCAAI,WAAU;8CAAkE,cAAA,gRAAC;wCAAE,WAAU;kDAAiB;;;;;;;;;;yDAE/G,gRAAC;oCAAI,WAAU;8CACZ,YAAY,GAAG,CAAC,CAAC,oBAChB,gRAAC;4CAAiB,WAAU;sDAC1B,cAAA,gRAAC;gDAAI,WAAU;;kEACb,gRAAC;;0EACC,gRAAC;gEAAE,WAAU;0EAA0B,IAAI,KAAK;;;;;;0EAChD,gRAAC;gEAAE,WAAU;;oEAA8B;oEAAO,IAAI,KAAK,IAAI,UAAU,EAAE,kBAAkB;;;;;;;;;;;;;kEAE/F,gRAAC;wDAAO,SAAS,IAAM,sBAAsB,IAAI,EAAE;wDAAG,WAAU;kEAC9D,cAAA,gRAAC;4DAAI,WAAU;4DAAU,MAAK;4DAAO,QAAO;4DAAe,SAAQ;sEAAY,cAAA,gRAAC;gEAAK,eAAc;gEAAQ,gBAAe;gEAAQ,aAAa;gEAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;2CAPhJ,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;gBAkB3B,8BAAgB,gRAAC;oBAAa,QAAQ;oBAAQ,SAAS,IAAM,gBAAgB;oBAAQ,OAAO,CAAC;wBAAW,SAAS;4BAAC;+BAAS;yBAAM;wBAAG,gBAAgB;oBAAQ;;;;;;gBAC5J,oCAAsB,gRAAC;oBAAkB,SAAS;oBAAQ,SAAS,IAAM,sBAAsB;oBAAQ,OAAO,CAAC;wBAAU,eAAe;4BAAC;+BAAQ;yBAAY;wBAAG,sBAAsB;oBAAQ;;;;;;gBAC9L,8BAAgB,gRAAC;oBAAgB,MAAM;oBAAc,SAAS;oBAAS,SAAS,IAAM,gBAAgB;oBAAO,UAAU,IAAM,aAAa,aAAa,EAAE;oBAAG,gBAAgB,CAAC,SAAW,mBAAmB,aAAa,EAAE,EAAE;oBAAS,kBAAkB,IAAM,qBAAqB,aAAa,EAAE;;;;;;;;;;;;;;;;;AAI1S;AAGA,SAAS,gBAAgB,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,cAAc,EAAE,gBAAgB,EAAoK;IAC/P,MAAM,WAAyB;QAAC;QAAU;QAAW;KAAY;IACjE,MAAM,SAAS,KAAK,UAAU,GAAG,KAAK,YAAY;IAClD,MAAM,gBAAgB,iBAAiB,KAAK,YAAY;IAExD,MAAM,eAAe,CAAC;QACpB,IAAI,CAAC,QAAQ,OAAO;QACpB,IAAI,WAAW,YAAY,OAAO;QAClC,IAAI,WAAW,UAAU,OAAO;QAChC,OAAO;IACT;IAEA,qBACE,gRAAC;QAAI,WAAU;QAAuF,SAAS;kBAC7G,cAAA,gRAAC;YAAI,WAAU;YAAgG,SAAS,CAAC,IAAM,EAAE,eAAe;;gBAC7I,KAAK,SAAS,iBACb,gRAAC;oBAAI,WAAU;;sCACb,gRAAC;4BAAI,KAAK,KAAK,SAAS;4BAAE,KAAK,KAAK,YAAY;4BAAE,WAAU;;;;;;wBAC3D,KAAK,WAAW,kBAAI,gRAAC;4BAAI,WAAU;sCAAqF;;;;;;;;;;;yCAG3H,gRAAC;oBAAI,WAAU;;sCACb,gRAAC;4BAAI,WAAU;4BAA2B,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sCAAY,cAAA,gRAAC;gCAAK,eAAc;gCAAQ,gBAAe;gCAAQ,aAAa;gCAAG,GAAE;;;;;;;;;;;wBACpK,KAAK,WAAW,kBAAI,gRAAC;4BAAI,WAAU;sCAAqF;;;;;;;;;;;;8BAI7H,gRAAC;oBAAI,WAAU;;sCACb,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;;sDACC,gRAAC;4CAAG,WAAU;sDAAsC,KAAK,YAAY;;;;;;sDACrE,gRAAC;4CAAE,WAAU;sDAAkB,IAAI,KAAK,KAAK,UAAU,EAAE,kBAAkB,CAAC,SAAS;gDAAE,SAAS;gDAAQ,MAAM;gDAAW,OAAO;gDAAQ,KAAK;4CAAU;;;;;;;;;;;;8CAEzJ,gRAAC;oCAAO,SAAS;oCAAS,WAAU;8CAClC,cAAA,gRAAC;wCAAI,WAAU;wCAAU,MAAK;wCAAO,QAAO;wCAAe,SAAQ;kDAAY,cAAA,gRAAC;4CAAK,eAAc;4CAAQ,gBAAe;4CAAQ,aAAa;4CAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;wBAKvJ,KAAK,WAAW,IAAI,KAAK,aAAa,IAAI,KAAK,aAAa,CAAC,MAAM,GAAG,mBACrE,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;oCAAG,WAAU;;sDACZ,gRAAC;4CAAI,WAAU;4CAAU,MAAK;4CAAO,QAAO;4CAAe,SAAQ;sDAAY,cAAA,gRAAC;gDAAK,eAAc;gDAAQ,gBAAe;gDAAQ,aAAa;gDAAG,GAAE;;;;;;;;;;;wCAAoE;wCACxM,KAAK,aAAa,CAAC,MAAM;wCAAC;;;;;;;8CAE5C,gRAAC;oCAAI,WAAU;8CACZ,KAAK,aAAa,CAAC,GAAG,CAAC,CAAC,KAAK,sBAC5B,gRAAC;4CAAgB,WAAU;;8DACzB,gRAAC;oDAAI,WAAU;;sEACb,gRAAC;4DAAK,WAAU;;gEAAoC;gEAAE,QAAQ;gEAAE;gEAAE,IAAI,IAAI,IAAI;;;;;;;wDAC7E,IAAI,KAAK,kBAAI,gRAAC;4DAAK,WAAU;sEAA6B,WAAW,IAAI,KAAK;;;;;;;;;;;;8DAEjF,gRAAC;oDAAI,WAAU;;wDACZ,IAAI,OAAO,kBACV,gRAAC;;8EACC,gRAAC;oEAAE,WAAU;8EAAiB;;;;;;8EAC9B,gRAAC;oEAAE,WAAU;8EAAc,IAAI,OAAO;;;;;;;;;;;;wDAGzC,IAAI,MAAM,kBACT,gRAAC;;8EACC,gRAAC;oEAAE,WAAU;8EAAiB;;;;;;8EAC9B,gRAAC;oEAAE,WAAU;8EAAc,aAAa,IAAI,MAAM;;;;;;;;;;;;;;;;;;;2CAfhD;;;;;;;;;;;;;;;;sCAyBlB,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;oCAAK,WAAW,CAAC,+BAA+B,EAAE,KAAK,QAAQ,KAAK,kBAAkB,qCAAqC,oCAAoC;8CAC7J,KAAK,QAAQ,KAAK,kBAAkB,kBAAkB;;;;;;8CAEzD,gRAAC;oCAAK,WAAU;;sDACd,gRAAC;4CAAY,MAAM,KAAK,YAAY;4CAAE,WAAU;;;;;;wCAC/C,KAAK,YAAY,CAAC,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,YAAY,CAAC,KAAK,CAAC;wCAAG;;;;;;;;;;;;;sCAI5E,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;oCAAE,WAAU;8CAA8B;;;;;;8CAC3C,gRAAC;oCAAkB,QAAQ,KAAK,MAAM;;;;;;8CACtC,gRAAC;oCAAI,WAAU;8CACZ,SAAS,GAAG,CAAC,CAAC,uBACb,gRAAC;4CAAoB,SAAS,IAAM,eAAe;4CAAS,WAAW,CAAC,2DAA2D,EAAE,KAAK,MAAM,KAAK,SAAS,8BAA8B,gEAAgE;sDACzP,OAAO,MAAM,CAAC,GAAG,WAAW,KAAK,OAAO,KAAK,CAAC;2CADpC;;;;;;;;;;;;;;;;sCAOnB,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;oCAAI,WAAU;;sDACb,gRAAC;4CAAE,WAAU;sDAA8B;;;;;;sDAC3C,gRAAC;4CAAE,WAAU;sDAA0B,KAAK,aAAa;;;;;;;;;;;;8CAE3D,gRAAC;oCAAI,WAAU;;sDACb,gRAAC;4CAAE,WAAU;sDAA8B;;;;;;sDAC3C,gRAAC;4CAAE,WAAU;sDAA0B,KAAK,OAAO,IAAI;;;;;;;;;;;;8CAEzD,gRAAC;oCAAI,WAAU;;sDACb,gRAAC;4CAAE,WAAU;sDAA8B;;;;;;sDAC3C,gRAAC;4CAAE,WAAU;sDAA0B,KAAK,WAAW;;;;;;;;;;;;8CAEzD,gRAAC;oCAAI,WAAU;;sDACb,gRAAC;4CAAE,WAAU;sDAA8B;;;;;;sDAC3C,gRAAC;4CAAE,WAAU;sDAA0B,KAAK,SAAS;;;;;;;;;;;;;;;;;;sCAIzD,gRAAC;4BAAI,WAAW,CAAC,KAAK,EAAE,UAAU,gBAAgB,cAAc,WAAW,CAAC;;8CAC1E,gRAAC;oCAAI,WAAU;;sDACb,gRAAC;4CAAE,WAAU;sDAA4B;;;;;;sDACzC,gRAAC;4CAAE,WAAU;sDAAkC,WAAW,KAAK,YAAY;;;;;;;;;;;;8CAE7E,gRAAC;oCAAI,WAAU;;sDACb,gRAAC;4CAAE,WAAU;sDAAgC;;;;;;sDAC7C,gRAAC;4CAAE,WAAU;sDAAsC,WAAW,KAAK,UAAU;;;;;;;;;;;;gCAE9E,yBACC,gRAAC;oCAAI,WAAW,GAAG,UAAU,IAAI,4CAA4C,kCAAkC,kCAAkC,CAAC;;sDAChJ,gRAAC;4CAAE,WAAW,CAAC,aAAa,EAAE,UAAU,IAAI,qBAAqB,gBAAgB;sDAAE;;;;;;sDACnF,gRAAC;4CAAE,WAAW,CAAC,kBAAkB,EAAE,UAAU,IAAI,qBAAqB,gBAAgB;;gDAAG,UAAU,IAAI,MAAM;gDAAK,WAAW,KAAK,GAAG,CAAC;;;;;;;;;;;;;;;;;;;sCAK5I,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;oCAAO,SAAS;oCAAS,WAAU;8CAAiG;;;;;;8CACrI,gRAAC;oCAAO,SAAS;oCAAU,WAAU;;sDACnC,gRAAC;4CAAI,WAAU;4CAAU,MAAK;4CAAO,QAAO;4CAAe,SAAQ;sDAAY,cAAA,gRAAC;gDAAK,eAAc;gDAAQ,gBAAe;gDAAQ,aAAa;gDAAG,GAAE;;;;;;;;;;;wCAAuI;;;;;;;;;;;;;wBAI9R,KAAK,MAAM,KAAK,eAAe,CAAC,KAAK,iBAAiB,kBACrD,gRAAC;4BAAO,SAAS;4BAAkB,WAAW,CAAC,+FAA+F,EAAE,kBAAkB,QAAQ,iBAAiB,IAAI,2CAA2C,kBAAkB,QAAQ,iBAAiB,IAAI,+CAA+C,kDAAkD;;8CACxX,gRAAC;oCAAI,WAAU;oCAAU,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CAAY,cAAA,gRAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;gCAA6J;gCAChS,kBAAkB,QAAQ,CAAC,GAAG,EAAE,KAAK,GAAG,CAAC,GAAG,eAAe,CAAC,CAAC;;;;;;;wBAGjF,KAAK,iBAAiB,kBACrB,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;oCAAI,WAAU;oCAAU,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CAAY,cAAA,gRAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;gCAAyB;;;;;;;;;;;;;;;;;;;;;;;;AAQ3L;AAGA,SAAS,aAAa,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAiF;IAC7H,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,mPAAQ,EAAC;QAAE,cAAc;QAAI,eAAe;QAAI,SAAS;QAAI,aAAa;QAAI,WAAW;QAAI,cAAc;QAAI,YAAY;QAAI,cAAc;QAAsB,UAAU;IAA2B;IACxO,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,mPAAQ,EAA2F,EAAE;IAC7I,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,mPAAQ,EAAc;IACxD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,mPAAQ,EAAS;IACzD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mPAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,mPAAQ,EAAC;IAEnC,MAAM,oBAAoB,CAAC;QACzB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,MAAM;YAAE,aAAa;YAAO,MAAM,SAAS,IAAI;YAAc,OAAO,SAAS,GAAG,IAAM,gBAAgB,OAAO,MAAM;YAAa,OAAO,aAAa,CAAC;QAAO;IAClK;IAEA,MAAM,aAAa;QACjB,IAAI,aAAa,MAAM,GAAG,GAAG,gBAAgB;eAAI;YAAc;gBAAE,MAAM;gBAAI,OAAO;gBAAI,SAAS;gBAAI,QAAQ;gBAAY,cAAc;YAAG;SAAE;IAC5I;IAEA,MAAM,gBAAgB,CAAC,QAAkB,gBAAgB,aAAa,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;IAE7F,MAAM,gBAAgB,CAAC,OAAe,OAAe;QACnD,MAAM,UAAU;eAAI;SAAa;QACjC,OAAO,CAAC,MAAM,GAAG;YAAE,GAAG,OAAO,CAAC,MAAM;YAAE,CAAC,MAAM,EAAE;QAAM;QACrD,gBAAgB;IAClB;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAAI,SAAS;QAAK,WAAW;QAC7C,IAAI;YACF,IAAI,WAA0B;YAC9B,IAAI,WAAW,WAAW,MAAM,IAAA,uKAAW,EAAC,WAAW;YACvD,MAAM,oBAAoB,aAAa,GAAG,CAAC,CAAA,MAAO,CAAC;oBACjD,MAAM,IAAI,IAAI;oBAAE,OAAO,IAAI,KAAK,GAAG,OAAO,IAAI,KAAK,IAAI;oBAAM,SAAS,IAAI,OAAO;oBACjF,QAAQ,IAAI,MAAM,KAAK,WAAW,IAAI,YAAY,GAAG,IAAI,MAAM;gBACjE,CAAC;YACD,MAAM,OAAO,MAAM,IAAA,mKAAO,EAAC;gBACzB,cAAc,SAAS,YAAY;gBAAE,eAAe,SAAS,aAAa;gBAAE,SAAS,SAAS,OAAO;gBACrG,aAAa,SAAS,WAAW;gBAAE,WAAW,SAAS,SAAS;gBAChE,cAAc,OAAO,SAAS,YAAY;gBAAG,YAAY,OAAO,SAAS,UAAU;gBACnF,WAAW;gBAAU,QAAQ;gBAAU,cAAc,SAAS,YAAY;gBAAE,UAAU,SAAS,QAAQ;gBACvG,aAAa,aAAa,MAAM,GAAG;gBAAG,eAAe,aAAa,MAAM,GAAG,IAAI,oBAAoB;gBACnG,cAAc;gBAAM,mBAAmB;gBACvC,SAAS;YACX;YACA,MAAM;QACR,EAAE,OAAO,KAAK;YAAE,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAAuB,SAC7E;YAAE,WAAW;QAAQ;IAC/B;IAEA,qBACE,gRAAC;QAAI,WAAU;kBACb,cAAA,gRAAC;YAAI,WAAU;;8BACb,gRAAC;oBAAI,WAAU;;sCACb,gRAAC;4BAAG,WAAU;sCAA+B;;;;;;sCAC7C,gRAAC;4BAAO,SAAS;4BAAS,WAAU;sCAA6C,cAAA,gRAAC;gCAAI,WAAU;gCAAU,MAAK;gCAAO,QAAO;gCAAe,SAAQ;0CAAY,cAAA,gRAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;8BAEvO,gRAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,gRAAC;;8CACC,gRAAC;oCAAM,WAAU;8CAAgD;;;;;;8CACjE,gRAAC;oCAAM,MAAK;oCAAO,OAAO,SAAS,YAAY;oCAAE,UAAU,CAAC,IAAM,YAAY;4CAAE,GAAG,QAAQ;4CAAE,cAAc,EAAE,MAAM,CAAC,KAAK;wCAAC;oCAAI,WAAU;oCAAmK,aAAY;oCAAe,QAAQ;;;;;;;;;;;;sCAEhV,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;;sDACC,gRAAC;4CAAM,WAAU;sDAAgD;;;;;;sDACjE,gRAAC;4CAAM,MAAK;4CAAO,OAAO,SAAS,aAAa;4CAAE,UAAU,CAAC,IAAM,YAAY;oDAAE,GAAG,QAAQ;oDAAE,eAAe,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAAI,WAAU;4CAAmK,aAAY;4CAAW,QAAQ;;;;;;;;;;;;8CAE9U,gRAAC;;sDACC,gRAAC;4CAAM,WAAU;sDAAgD;;;;;;sDACjE,gRAAC;4CAAM,MAAK;4CAAO,OAAO,SAAS,OAAO;4CAAE,UAAU,CAAC,IAAM,YAAY;oDAAE,GAAG,QAAQ;oDAAE,SAAS,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAAI,WAAU;4CAAmK,aAAY;;;;;;;;;;;;;;;;;;sCAGjT,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;;sDACC,gRAAC;4CAAM,WAAU;sDAAgD;;;;;;sDACjE,gRAAC;4CAAM,MAAK;4CAAO,OAAO,SAAS,WAAW;4CAAE,UAAU,CAAC,IAAM,YAAY;oDAAE,GAAG,QAAQ;oDAAE,aAAa,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAAI,WAAU;4CAAmK,aAAY;4CAAS,QAAQ;;;;;;;;;;;;8CAExU,gRAAC;;sDACC,gRAAC;4CAAM,WAAU;sDAAgD;;;;;;sDACjE,gRAAC;4CAAM,MAAK;4CAAO,OAAO,SAAS,SAAS;4CAAE,UAAU,CAAC,IAAM,YAAY;oDAAE,GAAG,QAAQ;oDAAE,WAAW,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAAI,WAAU;4CAAmK,aAAY;4CAAY,QAAQ;;;;;;;;;;;;;;;;;;sCAGzU,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;;sDACC,gRAAC;4CAAM,WAAU;sDAAgD;;;;;;sDACjE,gRAAC;4CAAM,MAAK;4CAAS,OAAO,SAAS,YAAY;4CAAE,UAAU,CAAC,IAAM,YAAY;oDAAE,GAAG,QAAQ;oDAAE,cAAc,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAAI,WAAU;4CAAmK,aAAY;4CAAO,KAAI;4CAAI,MAAK;4CAAO,QAAQ;;;;;;;;;;;;8CAE9V,gRAAC;;sDACC,gRAAC;4CAAM,WAAU;sDAAgD;;;;;;sDACjE,gRAAC;4CAAM,MAAK;4CAAS,OAAO,SAAS,UAAU;4CAAE,UAAU,CAAC,IAAM,YAAY;oDAAE,GAAG,QAAQ;oDAAE,YAAY,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAAI,WAAU;4CAAmK,aAAY;4CAAO,KAAI;4CAAI,MAAK;4CAAO,QAAQ;;;;;;;;;;;;;;;;;;sCAG5V,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;;sDACC,gRAAC;4CAAM,WAAU;sDAAgD;;;;;;sDACjE,gRAAC;4CAAO,OAAO,SAAS,YAAY;4CAAE,UAAU,CAAC,IAAM,YAAY;oDAAE,GAAG,QAAQ;oDAAE,cAAc,EAAE,MAAM,CAAC,KAAK;gDAAgB;4CAAI,WAAU;;8DAC1I,gRAAC;oDAAO,OAAM;8DAAM;;;;;;8DACpB,gRAAC;oDAAO,OAAM;8DAAO;;;;;;8DACrB,gRAAC;oDAAO,OAAM;8DAAM;;;;;;;;;;;;;;;;;;8CAGxB,gRAAC;;sDACC,gRAAC;4CAAM,WAAU;sDAAgD;;;;;;sDACjE,gRAAC;4CAAO,OAAO,SAAS,QAAQ;4CAAE,UAAU,CAAC,IAAM,YAAY;oDAAE,GAAG,QAAQ;oDAAE,UAAU,EAAE,MAAM,CAAC,KAAK;gDAAY;4CAAI,WAAU;;8DAC9H,gRAAC;oDAAO,OAAM;8DAAgB;;;;;;8DAC9B,gRAAC;oDAAO,OAAM;8DAAU;;;;;;;;;;;;;;;;;;;;;;;;sCAK9B,gRAAC;;8CACC,gRAAC;oCAAM,WAAU;8CAAgD;;;;;;8CACjE,gRAAC;oCAAM,MAAK;oCAAO,QAAO;oCAAU,UAAU;oCAAmB,WAAU;oCAAS,IAAG;;;;;;8CACvF,gRAAC;oCAAM,SAAQ;oCAAe,WAAU;8CACrC,6BAAe,gRAAC;wCAAI,KAAK;wCAAc,KAAI;wCAAU,WAAU;;;;;6DAC9D,gRAAC;wCAAI,WAAU;;0DACb,gRAAC;gDAAI,WAAU;gDAAuB,MAAK;gDAAO,QAAO;gDAAe,SAAQ;0DAAY,cAAA,gRAAC;oDAAK,eAAc;oDAAQ,gBAAe;oDAAQ,aAAa;oDAAG,GAAE;;;;;;;;;;;0DACjK,gRAAC;0DAAK;;;;;;;;;;;;;;;;;;;;;;;sCAOd,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;oCAAI,WAAU;;sDACb,gRAAC;4CAAK,WAAU;;gDAA4B;gDAAgB,aAAa,MAAM;gDAAC;;;;;;;wCAC/E,aAAa,MAAM,GAAG,mBACrB,gRAAC;4CAAO,MAAK;4CAAS,SAAS;4CAAY,WAAU;;8DACnD,gRAAC;oDAAI,WAAU;oDAAU,MAAK;oDAAO,QAAO;oDAAe,SAAQ;8DAAY,cAAA,gRAAC;wDAAK,eAAc;wDAAQ,gBAAe;wDAAQ,aAAa;wDAAG,GAAE;;;;;;;;;;;gDAAyB;;;;;;;;;;;;;gCAKlL,aAAa,MAAM,KAAK,mBAAK,gRAAC;oCAAE,WAAU;8CAA0C;;;;;;8CACrF,gRAAC;oCAAI,WAAU;8CACZ,aAAa,GAAG,CAAC,CAAC,KAAK,sBACtB,gRAAC;4CAAgB,WAAU;;8DACzB,gRAAC;oDAAI,WAAU;;sEACb,gRAAC;4DAAK,WAAU;;gEAAoC;gEAAE,QAAQ;;;;;;;sEAC9D,gRAAC;4DAAO,MAAK;4DAAS,SAAS,IAAM,cAAc;4DAAQ,WAAU;sEACnE,cAAA,gRAAC;gEAAI,WAAU;gEAAU,MAAK;gEAAO,QAAO;gEAAe,SAAQ;0EAAY,cAAA,gRAAC;oEAAK,eAAc;oEAAQ,gBAAe;oEAAQ,aAAa;oEAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;8DAGxJ,gRAAC;oDAAI,WAAU;;sEACb,gRAAC;4DAAM,MAAK;4DAAO,OAAO,IAAI,IAAI;4DAAE,UAAU,CAAC,IAAM,cAAc,OAAO,QAAQ,EAAE,MAAM,CAAC,KAAK;4DAAG,WAAU;4DAAwK,aAAY;;;;;;sEACjS,gRAAC;4DAAI,WAAU;;8EACb,gRAAC;oEAAM,MAAK;oEAAS,OAAO,IAAI,KAAK;oEAAE,UAAU,CAAC,IAAM,cAAc,OAAO,SAAS,EAAE,MAAM,CAAC,KAAK;oEAAG,WAAU;oEAAwK,aAAY;oEAAY,KAAI;oEAAI,MAAK;;;;;;8EAC9T,gRAAC;oEAAM,MAAK;oEAAO,OAAO,IAAI,OAAO;oEAAE,UAAU,CAAC,IAAM,cAAc,OAAO,WAAW,EAAE,MAAM,CAAC,KAAK;oEAAG,WAAU;oEAAwK,aAAY;;;;;;;;;;;;sEAEzS,gRAAC;4DAAO,OAAO,IAAI,MAAM;4DAAE,UAAU,CAAC,IAAM,cAAc,OAAO,UAAU,EAAE,MAAM,CAAC,KAAK;4DAAG,WAAU;;8EACpG,gRAAC;oEAAO,OAAM;8EAAW;;;;;;8EACzB,gRAAC;oEAAO,OAAM;8EAAS;;;;;;8EACvB,gRAAC;oEAAO,OAAM;8EAAS;;;;;;;;;;;;wDAExB,IAAI,MAAM,KAAK,0BACd,gRAAC;4DAAM,MAAK;4DAAO,OAAO,IAAI,YAAY;4DAAE,UAAU,CAAC,IAAM,cAAc,OAAO,gBAAgB,EAAE,MAAM,CAAC,KAAK;4DAAG,WAAU;4DAAwK,aAAY;;;;;;;;;;;;;2CAnB7S;;;;;;;;;;;;;;;;wBA2Bf,uBAAS,gRAAC;4BAAI,WAAU;sCAA0F;;;;;;sCACnH,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;oCAAO,MAAK;oCAAS,SAAS;oCAAS,WAAU;8CAAiG;;;;;;8CACnJ,gRAAC;oCAAO,MAAK;oCAAS,UAAU;oCAAS,WAAU;8CAA8K,UAAU,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMrQ;AAEA,SAAS,kBAAkB,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAmF;IACrI,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,mPAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,mPAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mPAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,mPAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mPAAQ,EAAC;IAEvC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAAI,SAAS;QAAK,WAAW;QAC7C,IAAI;YACF,MAAM,SAAS,MAAM,IAAA,2KAAe,EAAC,OAAO,UAAU;YACtD,IAAI,CAAC,OAAO,OAAO,EAAE,MAAM,IAAI,MAAM,OAAO,KAAK;YACjD,WAAW;YACX,WAAW;gBACT,IAAI,OAAO,OAAO,EAAE;oBAClB,MAAM,OAAO,OAAO;gBACtB;YACF,GAAG;QACL,EAAE,OAAO,KAAK;YAAE,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAA+B,SACrF;YAAE,WAAW;QAAQ;IAC/B;IAEA,qBACE,gRAAC;QAAI,WAAU;kBACb,cAAA,gRAAC;YAAI,WAAU;;8BACb,gRAAC;oBAAI,WAAU;;sCACb,gRAAC;4BAAG,WAAU;sCAA+B;;;;;;sCAC7C,gRAAC;4BAAO,SAAS;4BAAS,WAAU;sCAA6C,cAAA,gRAAC;gCAAI,WAAU;gCAAU,MAAK;gCAAO,QAAO;gCAAe,SAAQ;0CAAY,cAAA,gRAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;gBAEtO,wBACC,gRAAC;oBAAI,WAAU;;sCACb,gRAAC;4BAAI,WAAU;sCACb,cAAA,gRAAC;gCAAI,WAAU;gCAA2B,MAAK;gCAAO,QAAO;gCAAe,SAAQ;0CAAY,cAAA,gRAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAG,GAAE;;;;;;;;;;;;;;;;sCAEvK,gRAAC;4BAAE,WAAU;sCAAyB;;;;;;sCACtC,gRAAC;4BAAE,WAAU;sCAA8B;;;;;;;;;;;yCAG7C,gRAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,gRAAC;4BAAI,WAAU;sCACb,cAAA,gRAAC;gCAAE,WAAU;0CAAyB;;;;;;;;;;;sCAExC,gRAAC;;8CACC,gRAAC;oCAAM,WAAU;8CAAgD;;;;;;8CACjE,gRAAC;oCAAM,MAAK;oCAAQ,OAAO;oCAAO,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oCAAG,WAAU;oCAAmK,aAAY;oCAAwB,QAAQ;;;;;;;;;;;;sCAExS,gRAAC;;8CACC,gRAAC;oCAAM,WAAU;8CAAgD;;;;;;8CACjE,gRAAC;oCAAM,MAAK;oCAAW,OAAO;oCAAU,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAAG,WAAU;oCAAmK,aAAY;oCAAmB,WAAW;oCAAG,QAAQ;;;;;;;;;;;;wBAEzT,uBAAS,gRAAC;4BAAI,WAAU;sCAA0F;;;;;;sCACnH,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;oCAAO,MAAK;oCAAS,SAAS;oCAAS,WAAU;8CAAiG;;;;;;8CACnJ,gRAAC;oCAAO,MAAK;oCAAS,UAAU;oCAAS,WAAU;8CAA8K,UAAU,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOzQ"}},
    {"offset": {"line": 4370, "column": 0}, "map": {"version":3,"sources":["file:///Users/jeonilshin/Desktop/uniwork-autotool/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { getSession } from '@/lib/auth';\nimport LoginForm from '@/components/LoginForm';\nimport Dashboard from '@/components/Dashboard';\n\nexport default function Home() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    checkAuth();\n  }, []);\n\n  const checkAuth = async () => {\n    try {\n      const session = await getSession();\n      setIsAuthenticated(!!session);\n    } catch {\n      setIsAuthenticated(false);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center\">\n        <div className=\"w-8 h-8 border-2 border-emerald-500 border-t-transparent rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return <LoginForm onLogin={checkAuth} />;\n  }\n\n  return <Dashboard onLogout={() => setIsAuthenticated(false)} />;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,mPAAQ,EAAC;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mPAAQ,EAAC;IAEvC,IAAA,oPAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,YAAY;QAChB,IAAI;YACF,MAAM,UAAU,MAAM,IAAA,kKAAU;YAChC,mBAAmB,CAAC,CAAC;QACvB,EAAE,OAAM;YACN,mBAAmB;QACrB,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAI,SAAS;QACX,qBACE,gRAAC;YAAI,WAAU;sBACb,cAAA,gRAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,CAAC,iBAAiB;QACpB,qBAAO,gRAAC,4KAAS;YAAC,SAAS;;;;;;IAC7B;IAEA,qBAAO,gRAAC,4KAAS;QAAC,UAAU,IAAM,mBAAmB;;;;;;AACvD"}}]
}